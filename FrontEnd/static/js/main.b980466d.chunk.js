(this["webpackJsonpcbc-altec-admin-panel"]=this["webpackJsonpcbc-altec-admin-panel"]||[]).push([[0],{147:function(e,t){e.exports=[{label:"Payed",id:"0"},{label:"Free",id:"1"}]},149:function(e,t){e.exports={Station:{rent:{label:"Rent",id:"0"},return:{label:"Return",id:"1"}},wallet:{recharge:{label:"Recharge",id:"10"},payment:{label:"payment",id:"11"}}}},189:function(e,t){e.exports=[{label:"Active",id:"0"},{label:"Frozen",id:"1"}]},194:function(e,t){e.exports=[{label:"New",value:"0"},{label:"Ready to print",value:"1"}]},227:function(e,t){e.exports={ClientStats:[{label:"New",value:"0"},{label:"Active",value:"1"},{label:"Frozen",value:"2"}]}},31:function(e,t){var a=window.localStorage;e.exports={SERVER:"http://164.132.59.129:8080/",ACTOR:"Admin/",LOCALSTORAGE:a,API_KEY:"AIzaSyB3zO_aU97QjkN-p1MUofYobc2QNCf3y2M"}},368:function(e,t,a){},435:function(e,t,a){e.exports=a.p+"static/media/logo.2673b52f.svg"},467:function(e,t,a){e.exports=a(589)},472:function(e,t,a){},478:function(e,t,a){},479:function(e,t,a){},480:function(e,t,a){},481:function(e,t,a){},482:function(e,t,a){},483:function(e,t,a){},484:function(e,t,a){},486:function(e,t,a){},498:function(e,t,a){},500:function(e,t,a){},501:function(e,t,a){},555:function(e,t,a){},556:function(e,t,a){},564:function(e,t,a){},565:function(e,t,a){},566:function(e,t,a){},567:function(e,t,a){},568:function(e,t,a){},569:function(e,t,a){},570:function(e,t,a){},571:function(e,t,a){},572:function(e,t,a){},573:function(e,t,a){},583:function(e,t,a){},584:function(e,t,a){},585:function(e,t,a){},586:function(e,t,a){},587:function(e,t,a){},588:function(e,t,a){},589:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),i=a(21),c=a.n(i),s=(a(472),a(13)),o=a(14),l=a(16),u=a(15),d=a(7),m=a.n(d),f=a(10),p=a(49),h=a(48),v=(a(368),a(107)),b=(a(478),a(479),a(419)),E=(a(480),a(481),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;Object(s.a)(this,a);var r={backgroundColor:(n=t.call(this,e)).props.backgroundColor},i=n.props.icon;return n.state={style:r,icon:i},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"StatBox"},r.a.createElement("div",{className:"IconHolder",style:this.state.style},this.props.icon),r.a.createElement("div",{className:"statsHolder"},r.a.createElement("span",{className:"title"},this.props.title),r.a.createElement("span",{className:"number"},this.props.number)),r.a.createElement("span",{className:"alt"},this.props.text)))}}]),a}(r.a.Component)),g=a(431),y=a.n(g),k=(a(482),a(31)),w={GET:function(e,t){return Object(f.a)(m.a.mark((function a(){var n,r,i,c;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=new AbortController,setTimeout((function(){return n.abort()}),0),r={method:"GET",headers:{"Content-Type":"application/json",authorization:"Bearer "+t},authorization:"Bearer "+t,timeout:5},a.prev=3,a.next=6,fetch(e,r);case 6:return i=a.sent,a.next=9,i.json();case 9:return c=a.sent,a.abrupt("return",c);case 13:return a.prev=13,a.t0=a.catch(3),a.abrupt("return",{finalResult:!1,error:a.t0});case 16:case"end":return a.stop()}}),a,null,[[3,13]])})))()},POST:function(e,t,a){return Object(f.a)(m.a.mark((function n(){var r,i,c;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={method:"POST",headers:{"Content-Type":"application/json",authorization:"Bearer "+a},body:JSON.stringify(t)},n.prev=1,n.next=4,fetch(e,r);case 4:return i=n.sent,n.next=7,i.json();case 7:return c=n.sent,n.abrupt("return",c);case 11:return n.prev=11,n.t0=n.catch(1),n.abrupt("return",{finalResult:!1,error:n.t0});case 14:case"end":return n.stop()}}),n,null,[[1,11]])})))()}},O=function(){function e(t,a){var n=this;Object(s.a)(this,e),this.create=function(){var e=Object(f.a)(m.a.mark((function e(t){var a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.MAIN_ENTRY+"create",e.next=3,w.POST(a,t,n.adminToken);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.update=function(){var e=Object(f.a)(m.a.mark((function e(t,a){var r,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.MAIN_ENTRY+"update/"+t,e.next=3,w.POST(r,a,n.adminToken);case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),this.adminToken=t,this.MAIN_ENTRY=k.SERVER+k.ACTOR+a}return Object(o.a)(e,[{key:"getAll",value:function(){var e=Object(f.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=this.MAIN_ENTRY+"getAll/"+t+"/"+a,e.next=4,w.GET(n,this.adminToken);case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",{finalResult:!1});case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getOnById",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=this.MAIN_ENTRY+"getOne/"+t,e.next=4,w.GET(a,this.adminToken);case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{finalResult:!1});case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"searchBy",value:function(){var e=Object(f.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=this.MAIN_ENTRY+"searchBy/"+t+"/"+a,e.next=4,w.GET(n,this.adminToken);case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{finalResult:!1});case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"count",value:function(){var e=Object(f.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.MAIN_ENTRY+"count",e.next=4,w.GET(t,this.adminToken);case 4:return a=e.sent,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{finalResult:!1});case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"countWhere",value:function(){var e=Object(f.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=this.MAIN_ENTRY+"count/"+t+"/"+a,e.next=4,w.GET(n,this.adminToken);case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{finalResult:!1});case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=this.MAIN_ENTRY+"delete/"+t,e.next=4,w.GET(a,this.adminToken);case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{finalResult:!1});case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),S=k.SERVER+k.ACTOR+"Station/",x=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e,"Station/")).adminToken=e,n}return Object(o.a)(a,[{key:"getOneByPublicId",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=S+"getOneByPublicId/"+t,e.next=3,w.GET(a,this.adminToken);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getOneRealTime",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=S+"getRealTimeInfo/"+t,e.next=3,w.GET(a,this.adminToken);case 3:if(!(n=e.sent).finalResult){e.next=8;break}return e.abrupt("return",n.data);case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"rentPowerBank",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=S+"rentPowerBank/"+t,e.next=3,w.GET(a,this.adminToken);case 3:return n=e.sent,e.abrupt("return",n.finalResult);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queryAPNNs",value:function(){var e=Object(f.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=parseInt(a),n=S+"queryAPNNs/"+t+"/"+(a="0"+a),e.next=5,w.GET(n,this.adminToken);case 5:if(!(r=e.sent).finalResult){e.next=10;break}return e.abrupt("return",r.data);case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"setAddress",value:function(){var e=Object(f.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=S+"setAddress/"+t,e.next=3,w.POST(n,a,this.adminToken);case 3:return r=e.sent,console.log(r),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"setVolume",value:function(){var e=Object(f.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=parseInt(a),n=S+"setVolume/"+t+"/"+a,e.next=4,w.GET(n,this.adminToken);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()}]),a}(O),j=k.SERVER+k.ACTOR+"Client/",C=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e,"Client/")).create=function(){var e=Object(f.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=j+"getAll/0/99999",e.next=3,w.POST(a,t);case 3:if(!(n=e.sent).finalResult){e.next=8;break}return e.abrupt("return",n.result);case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.adminToken=e,n}return Object(o.a)(a,[{key:"getOnById",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var a,n,r,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=j+"getOne/"+t,n={method:"GET",headers:{"Content-Type":"application/json"}},e.next=4,fetch(a,n);case 4:return r=e.sent,e.next=7,r.json();case 7:if(1!=(i=e.sent).finalResult){e.next=12;break}return e.abrupt("return",i.result);case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),a}(O),P=k.SERVER+k.ACTOR+"Partner/",N=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e,"Partner/")).update=function(){var e=Object(f.a)(m.a.mark((function e(t,a){var r,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=P+"update/"+t,e.next=3,w.POST(r,a,n.adminToken);case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.adminToken=e,n}return a}(O),D=k.SERVER+k.ACTOR+"Setting/",I=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e,"Setting/")).update=function(){var e=Object(f.a)(m.a.mark((function e(t,a){var r,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=D+"update/"+t,e.next=3,w.POST(r,a,n.adminToken);case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.adminToken=e,n}return a}(O),R=k.SERVER+k.ACTOR+"RechargeCode/",L=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e,"RechargeCode/")).adminToken=e,n}return Object(o.a)(a,[{key:"getOnById",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var a,n,r,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=R+"getOne/"+t,n={method:"GET",headers:{"Content-Type":"application/json"}},e.next=4,fetch(a,n);case 4:return r=e.sent,e.next=7,r.json();case 7:if(1!=(i=e.sent).finalResult){e.next=12;break}return e.abrupt("return",i.result);case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getOneRealTime",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var a,n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"GET",headers:{"Content-Type":"application/json"}},e.next=3,fetch(k.SERVER+"RechargeCode/getRealTimeInfo/"+t,a);case 3:return n=e.sent,e.next=6,n.json();case 6:if(1!=(r=e.sent).finalResult){e.next=11;break}return e.abrupt("return",r.data);case 11:return e.abrupt("return",null);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),a}(O),A=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(s.a)(this,a),t.call(this,e,"RentTransactions/")}return Object(o.a)(a,[{key:"getAll",value:function(){var e=Object(f.a)(m.a.mark((function e(t,a,n){var r,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.MAIN_ENTRY+"getAll/"+t+"/"+a+"/"+n,e.next=3,w.GET(r,this.adminToken);case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()}]),a}(O),T=k.SERVER+k.ACTOR+"Ads/",M=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e,"Ads/")).adminToken=e,n}return Object(o.a)(a,[{key:"getOnById",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var a,n,r,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=T+"getOne/"+t,n={method:"GET",headers:{"Content-Type":"application/json"}},e.next=4,fetch(a,n);case 4:return r=e.sent,e.next=7,r.json();case 7:if(1!=(i=e.sent).finalResult){e.next=12;break}return e.abrupt("return",i.result);case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),a}(O),B=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).currentPage=r.a.createRef(),n.MODELS={_Station:new x(k.LOCALSTORAGE.getItem("adminToken")),_Client:new C(k.LOCALSTORAGE.getItem("adminToken")),_Setting:new I(k.LOCALSTORAGE.getItem("adminToken")),_Partner:new N(k.LOCALSTORAGE.getItem("adminToken")),_RechargeCode:new L(k.LOCALSTORAGE.getItem("adminToken")),_Transaction:new A(k.LOCALSTORAGE.getItem("adminToken")),_Ad:new M(k.LOCALSTORAGE.getItem("adminToken"))},n.state={failedLoading:!0},n}return Object(o.a)(a,[{key:"checkLoadStatus",value:function(e){}}]),a}(r.a.Component),F=a(697),_=a(370),W=a(239),z=a.n(W),V=a(691),H=a(426),G=a.n(H),q=a(667),Y=a(369),U=(a(483),a(678)),Q=a(692),X=a(666),J=a(372),K=(a(484),a(684)),Z=a(94),$=a.n(Z),ee=a(696),te=a(420);var ae=function(e,t,a,n,i){"string"!==typeof t&&(t="Critique Error, check console");var s=function(n){return Object(te.a)(n),r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{id:"alert",severity:a,sx:{mb:2},action:r.a.createElement(V.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){!function(e,t){c.a.unmountComponentAtNode(document.getElementById(e))}(e)}},r.a.createElement(Y.a,{fontSize:"inherit"}))},t))};try{c.a.render(r.a.createElement(s,null),document.getElementById(e)),null!=i&&setTimeout((function(){c.a.unmountComponentAtNode(document.getElementById(e))}),i)}catch(o){console.log("could not render teh notifications, check again"),console.log(o)}};var ne=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={isSubmitting:!1},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return this.state.isSubmitting?r.a.createElement(ee.a,{fullWidth:!0,loading:!0,loadingPosition:"start",startIcon:r.a.createElement($.a,null),variant:"outlined"},"Requesting"):r.a.createElement(_.a,{fullWidth:!0,startIcon:r.a.createElement($.a,null),variant:"contained",color:"primary",type:"submit"},"Submit")}}]),a}(B);var re=function(){return r.a.createElement("div",{className:"success-animation"},r.a.createElement("svg",{className:"checkmark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52"},r.a.createElement("circle",{className:"checkmark__circle",cx:"26",cy:"26",r:"25",fill:"none"}),r.a.createElement("path",{className:"checkmark__check",fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"})))},ie=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={isSubmitted:!1,isSubmitting:!1,done:!1,newInfo:{},doneMsg:void 0===n.props.doneMsg?"Operation success":"Operation failed",errMsg:void 0!==n.props.errMsg?n.props.errMsg:"Operation failed"},n.submitButton=r.a.createRef(),n}return Object(o.a)(a,[{key:"changeHolder",value:function(e){var t=e.target.name,a=e.target.value;"number"===e.target.type&&(a=parseInt(a)),this.state.newInfo[t]=a}},{key:"onDragEnd",value:function(e){var t=e.latLng.lat(),a=e.latLng.lng();this.state.newInfo.x=t,this.state.newInfo.y=a}},{key:"handleSubmit",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var a=this;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),this.submitButton.current.setState({isSubmitting:!0}),this.setState({isSubmitting:!0}),e.next=5,this.props.handleSubmit(this.state.newInfo);case 5:if(e.t0=e.sent,!0!==e.t0){e.next=13;break}this.setState({isSubmitted:!0}),ae("pagesNotifications",this.state.doneMsg,"success"),void 0!==this.props.onSuccess&&this.props.onSuccess(),setTimeout((function(){a.setState({isSubmitted:!1,isSubmitting:!1})}),2e3),e.next=16;break;case 13:this.setState({isSubmitted:!1,isSubmitting:!1}),ae("pagesNotifications",this.state.errMsg,"error"),this.submitButton.current.setState({isSubmitting:!1});case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"recursiveCloneChildren",value:function(e){var t=this;return r.a.Children.map(e,(function(e){if(!r.a.isValidElement(e))return e;if("YitLocationPicker"===e.type.displayName){var a={onDragEnd:t.onDragEnd.bind(t)};return r.a.cloneElement(e,a)}var n={onChange:t.changeHolder.bind(t)};return n.children=t.recursiveCloneChildren(e.props.children),r.a.cloneElement(e,n)}))}},{key:"componentDidMount",value:function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.isSubmitted?r.a.createElement("div",{className:"YitForm",id:"YitForm"},r.a.createElement(re,null)):r.a.createElement("div",{className:"YitForm",id:"YitForm"},r.a.createElement("form",{onSubmit:this.handleSubmit.bind(this),id:"myForm"},this.recursiveCloneChildren(this.props.children),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(U.a,{container:!0,item:!0,spacing:2},r.a.createElement(U.a,{item:!0,xs:4}),r.a.createElement(U.a,{item:!0,xs:4},r.a.createElement(K.a,{variant:"outlined",fullWidth:!0,color:"secondary",id:"outlined-error-helper-text",label:"Password",defaultValue:"APN.APN",type:"reset"},"Reset")),r.a.createElement(U.a,{item:!0,xs:4},r.a.createElement(ne,{ref:this.submitButton})))))}}]),a}(B),ce=a(676),se=(a(486),a(289)),oe=a.n(se),le=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={isLoading:void 0===n.props.isLoading||n.props.isLoading,failedLoading:!1,notifications:new Map},n.notId=0,n}return Object(o.a)(a,[{key:"pushNotification",value:function(e,t,a){var n=this,i=this.notId;this.state.notifications.set(i,r.a.createElement(q.a,{id:i,severity:t,sx:{mb:2},action:r.a.createElement(V.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){n.state.notifications.delete(i),n.setState({notifications:n.state.notifications})}},r.a.createElement(Y.a,{fontSize:"inherit"}))},e)),this.notId++,this.setState({notifications:this.state.notifications}),void 0!==a&&setTimeout((function(){n.state.notifications.delete(i),n.setState({notifications:n.state.notifications})}),a)}},{key:"componentDidMount",value:function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"drawNotifications",value:function(e){var t=[];return e.forEach((function(e,a){t.push(e)})),t}},{key:"mountFragmentBackDrop",value:function(e){document.getElementById("BackDrop").addEventListener("click",(function(){document.getElementById("BackDrop").style.display="none"})),document.getElementById("BackDropContent").addEventListener("click",(function(e){e.stopPropagation()})),document.getElementById("BackDrop").style.display="flex",c.a.render(e,document.getElementById("BackDropContent"))}},{key:"unmount",value:function(e){document.getElementById("BackDrop").style.display="none"}},{key:"drawOperations",value:function(){if(void 0!=this.props.topOperations)return this.props.topOperations.map((function(e){return r.a.createElement("div",{style:{marginLeft:10}},e)}))}},{key:"render",value:function(){var e=this;return this.state.failedLoading?r.a.createElement("div",{className:"failedToLoadPage"},r.a.createElement("span",null,"Failed to load Fragment primary data"),r.a.createElement("br",null),r.a.createElement(K.a,{style:{width:"10vw"},variant:"contained",startIcon:r.a.createElement(z.a,null),onClick:function(){return e.props.primaryInfoLoader}},"retry")):this.state.isLoading?r.a.createElement("div",{className:"loadingPage"},r.a.createElement(F.a,null)):r.a.createElement("div",{className:"yitFragment"},r.a.createElement("div",{className:"BackDrop",id:"BackDrop"},r.a.createElement("div",{className:"close",onClick:this.unmount},r.a.createElement(oe.a,{fontSize:"large",style:{color:"red"}})),r.a.createElement("div",{className:"content",id:"BackDropContent"})),r.a.createElement("div",{className:"pagesNotifications",id:"pagesNotifications"},this.drawNotifications(this.state.notifications)),r.a.createElement("section",{className:"YitFragment ".concat(this.props.customClass),id:this.props.customId},this.props.children))}}]),a}(B),ue=a(371),de=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={isSubmitted:!1,isSubmitting:!1,done:!1,partnersList:[],statsList:[{label:"active",id:0},{label:"Frozen",id:1}]},n.stationTypes=[{label:"active",value:0},{label:"inactive",value:1}],n.formRef=r.a.createRef(),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(f.a)(m.a.mark((function e(){var t,a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.MODELS._Partner.getAll(0,999);case 2:!1!==(t=e.sent).finalResult&&(a=t.result.rows,n=a.map((function(e){return{value:e.id,label:e.fullName}})),this.setState({partnersList:n}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.MODELS._Station.create(t);case 2:if(!(a=e.sent).finalResult){e.next=7;break}return e.abrupt("return",!0);case 7:return n=a.error.toString(),this.formRef.current.setState({errMsg:n}),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(le,{ref:this.fragment,customClass:"NewStationForm",customId:"NewStationForm",title:"Station Details",isLoading:!1,primaryInfoLoader:function(){e.loadPrimaryData().then()}},r.a.createElement(ie,{ref:this.formRef,handleSubmit:this.handleSubmit.bind(this)},r.a.createElement(U.a,{container:!0,spacing:2},r.a.createElement(U.a,{item:!0,xs:12},r.a.createElement("b",null,"Station Primary data")),r.a.createElement(U.a,{item:!0,xs:5},r.a.createElement(ue.a,{disabled:!0,fullWidth:!0,required:!0,variant:"outlined",id:"outlined-required",label:"SystemId",defaultValue:"Generated"})),r.a.createElement(U.a,{item:!0,xs:7},r.a.createElement(ue.a,{fullWidth:!0,required:!0,name:"id",variant:"outlined",id:"outlined-required",label:"Public Id",defaultValue:""})),r.a.createElement(U.a,{item:!0,xs:8},r.a.createElement(Q.a,{fullWidth:!0},r.a.createElement(ce.a,{id:"demo-simple-select-label"},"Partner"),r.a.createElement(X.a,{labelId:"demo-simple-select-label",id:"currentPartner",label:"Partner",name:"currentPartner",defaultValue:-1},r.a.createElement(J.a,{value:-1,key:-10},"Select Partner"),this.state.partnersList.map((function(e){return r.a.createElement(J.a,{value:e.value,key:e.value}," ",e.label)}))))),r.a.createElement(U.a,{item:!0,xs:4},r.a.createElement(Q.a,{fullWidth:!0},r.a.createElement(ce.a,{id:"demo-simple-select-label"},"Stat"),r.a.createElement(X.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",name:"stat",label:"Stat",defaultValue:-1},r.a.createElement(J.a,{value:-1,key:-100},"Select Stat"),this.state.statsList.map((function(e){return r.a.createElement(J.a,{value:e.id,key:e.value}," ",e.label)}))))))))}}]),a}(B),me=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={isLoading:!0,failedLoading:!1,notifications:new Map},n.pageId="YitPag"+a.id,n.backDropId="YitPageBackDrop"+a.id,n.backDropContentId="YitPageBackDropContent"+a.id,n.notificationsContainerId="notificationsContainer"+a.id,n.notId=0,a.id++,n}return Object(o.a)(a,[{key:"componentWillUnmount",value:function(){}},{key:"pushNotification",value:function(e,t,a){var n=this,i=this.notId;this.state.notifications.set(i,r.a.createElement(q.a,{id:i,severity:t,sx:{mb:2},action:r.a.createElement(V.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){n.state.notifications.delete(i),n.setState({notifications:n.state.notifications})}},r.a.createElement(Y.a,{fontSize:"inherit"}))},e)),this.notId++,this.setState({notifications:this.state.notifications}),void 0!==a&&setTimeout((function(){n.state.notifications.delete(i),n.setState({notifications:n.state.notifications})}),a)}},{key:"componentDidMount",value:function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"mountBackDrop",value:function(e){var t=this;document.getElementById(this.backDropId).addEventListener("click",(function(){c.a.unmountComponentAtNode(document.getElementById(t.backDropContentId)),document.getElementById(t.backDropId).style.display="none"})),document.getElementById(this.backDropContentId).addEventListener("click",(function(e){e.stopPropagation()})),document.getElementById(this.backDropId).style.display="flex",c.a.render(e,document.getElementById(this.backDropContentId))}},{key:"unmount",value:function(e){document.getElementById(this.backDropId).style.display="none"}},{key:"drawOperations",value:function(){if(void 0!==this.props.topOperations&&this.props.topOperations.length>0)return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"entriesContainer",id:"entriesContainer"},this.props.topOperations.map((function(e,t){return r.a.createElement("div",{key:t,className:"operationEntry",style:{marginLeft:10,display:"flex",alignItems:"center"},onClick:e.onClick},e.icon," ",e.text)}))),r.a.createElement(G.a,{fontSize:"large",style:{cursor:"pointer"},onClick:function(){var e=document.getElementById("entriesContainer");"hidden"===e.style.visibility?e.style.visibility="visible":e.style.visibility="hidden"}}))}},{key:"drawNotifications",value:function(e){var t=[];return e.forEach((function(e,a){t.push(e)})),t}},{key:"render",value:function(){var e=this;return this.state.failedLoading?r.a.createElement("div",{className:"failedToLoadPage"},r.a.createElement("span",null,"Failed to load page primary data"),r.a.createElement("br",null),r.a.createElement(_.a,{style:{width:"10vw"},color:"primary",variant:"contained",startIcon:r.a.createElement(z.a,null),onClick:function(){try{e.props.reloadPrimaryInfo()}catch(t){}}},"retry")):this.state.isLoading?r.a.createElement("div",{className:"loadingPage"},r.a.createElement(F.a,null)):r.a.createElement("section",{className:"YitPage",id:this.pageId},r.a.createElement("div",{className:"YitPageBackDrop",id:this.backDropId},r.a.createElement("div",{className:"YitPageBackDropContent",id:this.backDropContentId})),r.a.createElement("div",{className:"YitPageNotificationsContainer",id:this.notificationsContainerId},this.drawNotifications(this.state.notifications)),r.a.createElement("div",{className:"YitPageMainPage ".concat(this.props.customClass),id:this.props.customId},r.a.createElement("div",{className:"pagesTitle"},this.props.title),r.a.createElement("div",{className:"pagesOperations"},this.drawOperations()),r.a.createElement("div",{className:"pagesContent ".concat(this.props.customContentClass),id:this.props.contentCustomId},this.props.children)))}}]),a}(B);me.id=0;var fe,pe=me,he=a(672),ve=a(695),be=a(694),Ee=a(659),ge=a(693),ye={scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,bezierCurve:!0,bezierCurveTension:.4,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,offsetGridLines:!1},ke=a(487).Line,we=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={failedLoading:!1,charData:{labels:n.weekDays().weekDays,datasets:[{label:"Rent Transactions",fillColor:"rgba(220,220,220,0.2)",strokeColor:"rgba(220,220,220,1)",pointColor:"rgba(220,220,220,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(220,220,220,1)",data:[5,12,16,22,18,50,10]},{label:"Return Transaction",fillColor:"rgba(151,187,205,0.2)",strokeColor:"rgba(151,187,205,1)",pointColor:"rgba(151,187,205,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(151,187,205,1)",data:[5,12,16,22,18,50,10]}]}},n.fragmentRef=r.a.createRef(),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(f.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadTransactionsData(0,0,100);case 2:return t=e.sent,e.next=5,this.loadTransactionsData(1,0,100);case 5:a=e.sent,this.state.charData.datasets[0].data=t,this.state.charData.datasets[1].data=a,this.setState({charData:this.state.charData}),this.fragmentRef.current.setState({isLoading:!1,failedLoading:this.state.failedLoading});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"weekDays",value:function(){for(var e=new Date,t=[],a=[],n=0;n<7;n++)e.setDate(e.getDate()-6),t.push(e.toLocaleDateString("en",{weekday:"long"})),a.push(e.getDay());return{weekDays:t,indexes:a}}},{key:"prepareData",value:function(){}},{key:"loadTransactionsData",value:function(){var e=Object(f.a)(m.a.mark((function e(t,a,n){var r,i,c,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.MODELS._Transaction.getAll(t,a,n);case 2:return r=e.sent,(i=new Date).setDate(i.getDay()-6),c=[0,0,0,0,0,0,0],r.finalResult&&(r.result.forEach((function(e){var t=new Date(e.createdAt);t>i&&(c[t.getDay()]=c[t.getDay()]+1)})),s=c.slice(),this.weekDays().indexes.forEach((function(e,t){c[e-1]=s[t]})),s=null),this.setState({failedLoading:!r.finalResult}),e.abrupt("return",c);case 9:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(le,{ref:this.fragmentRef},r.a.createElement(ke,{data:this.state.charData,options:ye,width:this.props.x,height:this.props.y})))}}]),a}(B),Oe=(a(498),a(438)),Se=a(159),xe=a(677),je=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onPlaceChanged=function(){var e=n.props,t=e.map,a=e.addplace,r=n.autoComplete.getPlace();r.geometry&&(r.geometry.viewport?t.fitBounds(r.geometry.viewport):(t.setCenter(r.geometry.location),t.setZoom(17)),a(r),n.searchInput.blur())},n.clearSearchBox=n.clearSearchBox.bind(Object(Se.a)(n)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.map,a=e.mapApi;this.autoComplete=new a.places.Autocomplete(this.searchInput,{types:["address"]}),this.autoComplete.addListener("place_changed",this.onPlaceChanged),this.autoComplete.bindTo("bounds",t)}},{key:"componentWillUnmount",value:function(){this.props.mapApi.event.clearInstanceListeners(this.searchInput)}},{key:"clearSearchBox",value:function(){this.searchInput.value=""}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"YitLocationPickerAutoComplete"},r.a.createElement(xe.a,{style:{backgroundColor:"white"},size:"small",ref:function(t){e.searchInput=t},variant:"outlined",onFocus:this.clearSearchBox,placeholder:"Enter a location"}))}}]),a}(n.Component),Ce=a(89),Pe=a(428).a.div(fe||(fe=Object(Ce.a)(["\n    position: absolute;\n    width: 38px;\n    height: 37px;\n    background-image: url(https://icon-library.com/images/pin-icon-png/pin-icon-png-9.jpg);\n    background-size: contain;\n    background-repeat: no-repeat;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    -webkit-transform: translate(-50%,-50%);\n    -ms-transform: translate(-50%,-50%);\n    transform: translate(-50%,-50%);\n    cursor: grab;\n"]))),Ne=function(e){var t=e.text,a=e.onClick;return r.a.createElement(Pe,{alt:t,onClick:a})};Ne.defaultProps={onClick:null};var De=Ne,Ie=(n.Component,a(61)),Re=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={failedLoading:!1,isLoading:!1,settings:{},statistics:{},graphHeight:0,graphWidth:0},n.currentPage=r.a.createRef(),n}return Object(o.a)(a,[{key:"changeHolder",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.name,n=t.target.checked,"number"===t.target.type&&(n=parseInt(n)),e.next=5,this.MODELS._Setting.update(a,{dataValue:n});case 5:e.sent.finalResult?(this.state.settings[a]=n,this.setState({settings:this.state.settings})):this.currentPage.current.pushNotification("Could not update settings","error",2e3);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadSettings",value:function(){var e=Object(f.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.MODELS._Setting.getAll(t,a);case 2:(n=e.sent).finalResult&&(r={},n.result.forEach((function(e){r[e.name]=e.dataValue})),this.setState({settings:r})),this.setState({failedLoading:!n.finalResult});case 5:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"loadStatistics",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var a,n,r,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Object(b.a)(t),e.prev=1,a.s();case 3:if((n=a.n()).done){e.next=12;break}return r=n.value,e.next=7,r.loader.count();case 7:(i=e.sent).finalResult&&(this.state.statistics[r.model]=i.result,this.setState({statistics:this.state.statistics})),this.setState({failedLoading:!i.finalResult});case 10:e.next=3;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),a.e(e.t0);case 17:return e.prev=17,a.f(),e.finish(17);case 20:case"end":return e.stop()}}),e,this,[[1,14,17,20]])})));return function(t){return e.apply(this,arguments)}}()},{key:"loadPrimaryData",value:function(){var e=Object(f.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[{model:"clients",loader:this.MODELS._Client},{model:"stations",loader:this.MODELS._Station},{model:"partners",loader:this.MODELS._Partner}],e.next=3,this.loadSettings(0,50);case 3:return e.next=5,this.loadStatistics(t);case 5:this.state.failedLoading?this.currentPage.current.setState({failedLoading:!0}):this.currentPage.current.setState({failedLoading:!1,isLoading:!1});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadTransactionsData",value:function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.MODELS._Transaction.getAll(0,0,100);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setDimensions",value:function(){var e=this,t=document.getElementById("transactionsContainer");if(null!==t){var a=t.offsetHeight,n=t.offsetWidth;this.setState({x:n-20,y:a-50})}window.onresize=function(){var t=document.getElementById("transactionsContainer");if(null!==t){var a=t.offsetHeight,n=t.offsetWidth;e.setState({x:n-20,y:a-50})}}}},{key:"componentDidMount",value:function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadPrimaryData();case 2:this.setDimensions();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(pe,{ref:this.currentPage,title:"Dash Board",customClass:"Home",customContentClass:"homeContent",topOperations:[],reloadPrimaryInfo:function(){e.loadPrimaryData().then()}},r.a.createElement("div",{className:"StatsContainer"},r.a.createElement("div",{className:"container"},r.a.createElement(E,{title:"Clients",number:this.state.statistics.clients,text:"+7 this month",icon:r.a.createElement(Ie.Person,{style:{fontSize:50,color:"wheat"}})})),r.a.createElement("div",{className:"container"},r.a.createElement(E,{number:this.state.statistics.partners,text:"Students",title:"Partners",icon:r.a.createElement(Ie.People,{style:{fontSize:50,color:"rosybrown"}})})),r.a.createElement("div",{className:"container"},r.a.createElement(E,{title:"Stations",number:this.state.statistics.stations,icon:r.a.createElement(Ie.Apps,{style:{fontSize:50,color:"black"}}),text:"Active Stations"})),r.a.createElement("div",{className:"container"},r.a.createElement(E,{title:"Transactions",number:"0",icon:r.a.createElement(Ie.LocalAtm,{style:{fontSize:50,color:"wheat"}}),text:"Today"}))),r.a.createElement("div",{className:"transactionsContainer",id:"transactionsContainer"},r.a.createElement("b",null,"Rent / return transactions"),r.a.createElement(we,{x:this.state.x,y:this.state.y})),r.a.createElement("div",{className:"quickSettingsContainer"},r.a.createElement(ge.a,null,r.a.createElement(he.a,null,r.a.createElement(be.a,{id:"switch-list-label-wifi",primary:r.a.createElement("b",null,"Settings")})),r.a.createElement(he.a,null,r.a.createElement(ve.a,null,r.a.createElement(y.a,null)),r.a.createElement(be.a,{id:"switch-list-label-wifi",primary:"Pratic Power"}),r.a.createElement(Ee.a,{name:"system",edge:"end",onChange:this.changeHolder.bind(this),checked:this.state.settings.system,inputProps:{"aria-labelledby":"switch-list-label-wifi"}})),r.a.createElement(he.a,null,r.a.createElement(ve.a,null,r.a.createElement(Ie.People,null)),r.a.createElement(be.a,{id:"switch-list-label-wifi",primary:"Client Signup"}),r.a.createElement(Ee.a,{edge:"end",onChange:this.changeHolder,checked:this.state.settings.clientSignUp,inputProps:{"aria-labelledby":"switch-list-label-wifi"}})),r.a.createElement(he.a,null,r.a.createElement(ve.a,null,r.a.createElement(Ie.People,null)),r.a.createElement(be.a,{id:"switch-list-label-wifi",primary:"Client Signup"}),r.a.createElement(Ee.a,{edge:"end",onChange:this.changeHolder,checked:this.state.settings.clientSignUp,inputProps:{"aria-labelledby":"switch-list-label-wifi"}})),r.a.createElement(he.a,null,r.a.createElement(ve.a,null,r.a.createElement(Ie.Apps,null)),r.a.createElement(be.a,{id:"switch-list-label-bluetooth",primary:"Power Banks Rent"}),r.a.createElement(Ee.a,{name:"rent",edge:"end",onChange:this.changeHolder.bind(this),checked:this.state.settings.rent,inputProps:{"aria-labelledby":"switch-list-label-bluetooth"}})),r.a.createElement(he.a,null,r.a.createElement(ve.a,null,r.a.createElement(Ie.QrCode2,null)),r.a.createElement(be.a,{id:"switch-list-label-bluetooth",primary:"Card Print"}),r.a.createElement(Ee.a,{edge:"end",onChange:this.changeHolder.bind(this),checked:this.state.settings.print})),r.a.createElement(he.a,null,r.a.createElement(ve.a,null,r.a.createElement(Ie.QrCodeScanner,null)),r.a.createElement(be.a,{id:"switch-list-label-bluetooth",primary:"Card recharge"}),r.a.createElement(Ee.a,{edge:"end",onChange:this.changeHolder.bind(this),checked:this.state.settings.recharge})))))}}]),a}(B),Le=(a(500),a(227)),Ae=(a(501),a(119)),Te=a.n(Ae),Me=a(373),Be=a(375),Fe=a(378),_e=a(379),We=a(377),ze=a(380),Ve=a(386),He=a(381),Ge=a(382),qe=a(383),Ye=a(376),Ue=a(387),Qe=a(374),Xe=a(385),Je=a(388),Ke={Add:Object(n.forwardRef)((function(e,t){return r.a.createElement(Me.a,Object.assign({},e,{ref:t}))})),Check:Object(n.forwardRef)((function(e,t){return r.a.createElement(Be.a,Object.assign({},e,{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return r.a.createElement(Fe.a,Object.assign({},e,{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return r.a.createElement(_e.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return r.a.createElement(We.a,Object.assign({},e,{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return r.a.createElement(ze.a,Object.assign({},e,{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return r.a.createElement(Ve.a,Object.assign({},e,{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return r.a.createElement(He.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(Ge.a,Object.assign({},e,{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(qe.a,Object.assign({},e,{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(We.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(Ye.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return r.a.createElement(Fe.a,Object.assign({},e,{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return r.a.createElement(Ue.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return r.a.createElement(Qe.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return r.a.createElement(Xe.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return r.a.createElement(Je.a,Object.assign({},e,{ref:t}))})),Retry:Object(n.forwardRef)((function(e,t){return r.a.createElement("div",null)}))},Ze=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;Object(s.a)(this,a),(n=t.call(this,e)).state={page:0,totalCount:0,searchEntry:void 0!==n.props.searchEntry?n.props.searchEntry:"id"};new URLSearchParams(window.location.search);return n.tableRef=r.a.createRef(),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.clear(),console.log(this.tableRef.current);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadTotal",value:function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"loadData",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var a,n,r,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.page*t.pageSize,n=t.pageSize,""!==t.search){e.next=7;break}return e.next=4,this.props.dataModel.getAll(a,n);case 4:r=e.sent,e.next=10;break;case 7:return e.next=9,this.props.dataModel.searchBy(this.state.searchEntry,t.search);case 9:r=e.sent;case 10:if(!r.finalResult){e.next=15;break}return i={data:r.result.rows,total:r.result.count},e.abrupt("return",i);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this;return r.a.createElement(Te.a,Object.assign({style:{minHeight:"100%",fontFamily:"Poppins"},tableRef:this.tableRef,icons:Ke,title:"",data:function(t){return new Promise((function(a,n){e.loadData(t).then((function(e){0==e?n():a({data:e.data,page:t.page,totalCount:e.total})}))}))},options:{actionsColumnIndex:-1,exportButton:!0,paginationPosition:"top",pageSizeOptions:[5,10,20,50,this.state.totalCount]},localization:{error:r.a.createElement("div",{className:"errorContainer"},r.a.createElement("span",null,"Data could not be Loaded"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(_.a,{style:{backgroundColor:"red",opacity:20},color:"primary",variant:"contained",onClick:function(){e.tableRef.current.onQueryChange({})}},"Retry"))}},this.props))}}]),a}(r.a.Component),$e=a(682),et=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleClose=function(e,t){},n.state={rawData:[],columns:[{title:"Name",field:"fullName"},{title:"E-mail",field:"mail"},{title:"Phone",field:"phone"},{title:"Stat",field:"stat",lookup:{0:"New",1:"Active",2:"Frozen"},render:function(e){var t,a;switch(e.stat){case 0:t="New",a="green";break;case 1:t="Active",a="darkblue";break;case 2:t="Frozen",a="red";break;default:t="Unknown",a="red"}return r.a.createElement($e.a,{label:t,style:{width:120,backgroundColor:a,color:"white",fontWeight:"bold"}})}}],data:[],selectedRowId:null,open:!1},n.dataTable=r.a.createRef(),n}return Object(o.a)(a,[{key:"componentWillMount",value:function(){var e=Object(f.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.MODELS._Client.getAll(0,20);case 3:null!=(t=e.sent)&&(this.setState({data:t}),this.currentPage.current.setState({isLoading:!1})),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"changeStat",value:function(){var e=Object(f.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.MODELS._Client.update(t.id,{stat:a});case 3:e.sent&&(ae("pagesNotifications","Stat Changed successfully","success"),this.dataTable.current.tableRef.current.onQueryChange({})),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"deleteEntry",value:function(){var e=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.MODELS._Client.delete(t.id);case 3:e.sent&&ae("pagesNotifications","Client Deleted","success"),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateClientInfo",value:function(){var e=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.MODELS._Client.update(t.id,t);case 3:e.sent.finalResult?(ae("pagesNotifications","Client Updated","success"),this.dataTable.current.tableRef.current.onQueryChange()):ae("pagesNotifications","Could update Client","error"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ae("pagesNotifications","Could not change client info","error");case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(pe,{customClass:"ClientsPage",customId:"ClientsPage",title:"Clients",ref:this.currentPage},r.a.createElement(Ze,{ref:this.dataTable,columns:this.state.columns,dataModel:this.MODELS._Client,searchEntry:"fullName",editable:{onRowUpdate:function(t,a){return e.updateClientInfo(t)},onRowDelete:function(t){return new Promise((function(a,n){e.deleteEntry(t).then((function(e){return a()}))}))}}}))}}]),a}(B),tt=(a(555),a(556),a(60)),at=a(147),nt=a.n(at),rt=a(189),it=a.n(rt),ct=a(9),st=a(196),ot=a.n(st),lt=a(293),ut=a.n(lt);ot.a.setApiKey("AIzaSyB3zO_aU97QjkN-p1MUofYobc2QNCf3y2M"),ot.a.enableDebug();r.a.Component;var dt=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onChange=function(e){n.setState(Object(ct.a)({},e.target.name,e.target.value))},n.onMarkerDragEnd=function(e){var t=e.latLng.lat(),a=e.latLng.lng();n.setState({markerPosition:{lat:t,lng:a},mapPosition:{lat:t,lng:a}}),void 0!==n.props.onDragEnd&&"function"==typeof n.props.onDragEnd&&n.props.onDragEnd(e)},a.displayName="YitLocationPicker",n.state={zoom:15,height:200,mapPosition:void 0===n.props.center?{lat:-3.745,lng:-38.523}:n.props.center,markerPosition:void 0===n.props.center?{lat:-3.745,lng:-38.523}:n.props.center},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return r.a.createElement(tt.a,{mapContainerStyle:{height:"40vh",width:"100%"},zoom:this.state.zoom,center:{lat:this.state.mapPosition.lat,lng:this.state.mapPosition.lng}},r.a.createElement(tt.d,{google:this.props.google,name:"Dolores park",draggable:!0,onDragEnd:function(t){e.onMarkerDragEnd(t)},position:{lat:this.state.markerPosition.lat,lng:this.state.markerPosition.lng}}),r.a.createElement(tt.b,{onClose:this.onInfoWindowClose,position:{lat:this.state.markerPosition.lat+.0018,lng:this.state.markerPosition.lng}},r.a.createElement("div",null,r.a.createElement("span",{style:{padding:0,margin:0}},"Drag me to choose"))),r.a.createElement(tt.d,null))}}]),a}(r.a.Component),mt=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={isSubmitted:!1,isSubmitting:!1,done:!1,partnersList:[],markers:[]},n.stationTypes=[{label:"active",value:0},{label:"inactive",value:1}],n.formRef=r.a.createRef(),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(f.a)(m.a.mark((function e(){var t,a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.MODELS._Partner.getAll(0,999);case 2:!1!==(t=e.sent).finalResult&&(a=t.result.rows,n=a.map((function(e){return{value:e.id,label:e.fullName}})),this.setState({partnersList:n}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"generatePassword",value:function(){for(var e="0123456789abcdefghijklmnopqrstuvwxyz!@#$%^&*()ABCDEFGHIJKLMNOPQRSTUVWXYZ",t="",a=0;a<=8;a++){var n=Math.floor(Math.random()*e.length);t+=e.substring(n,n+1)}return t}},{key:"handleSubmit",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.generatePassword(),alert(a),t.password=a,e.next=5,this.MODELS._Partner.create(t);case 5:if(!(n=e.sent).finalResult){e.next=10;break}return e.abrupt("return",!0);case 10:return this.formRef.current.setState({errMsg:n.error}),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"NewPartnerForm"},r.a.createElement(ie,{ref:this.formRef,handleSubmit:this.handleSubmit.bind(this)},r.a.createElement(U.a,{container:!0,spacing:2,xs:12},r.a.createElement(U.a,{item:!0,xs:6},r.a.createElement(ue.a,{fullWidth:!0,required:!0,variant:"outlined",id:"outlined-required",name:"fullName",label:"Full Name"})),r.a.createElement(U.a,{item:!0,xs:3},r.a.createElement(Q.a,{fullWidth:!0},r.a.createElement(ce.a,null,"Rent Policy"),r.a.createElement(X.a,{id:"demo-simple-select",name:"type",label:"Rent Policy",defaultValue:-1},r.a.createElement(J.a,{value:-1},"Select Policy"),nt.a.map((function(e){return r.a.createElement(J.a,{value:e.id}," ",e.label)}))))),r.a.createElement(U.a,{item:!0,xs:3},r.a.createElement(Q.a,{fullWidth:!0},r.a.createElement(ce.a,null,"Stat"),r.a.createElement(X.a,{id:"demo-simple-select",name:"stat",label:"State",defaultValue:-1},r.a.createElement(J.a,{value:-1},"Select Stat"),it.a.map((function(e){return r.a.createElement(J.a,{value:e.id}," ",e.label)}))))),r.a.createElement(U.a,{item:!0,xs:6},r.a.createElement(ue.a,{fullWidth:!0,required:!0,variant:"outlined",name:"phone",id:"outlined-required",label:"Phone",placeholder:"0X XX XX XX XX"})),r.a.createElement(U.a,{item:!0,xs:6},r.a.createElement(ue.a,{fullWidth:!0,required:!0,variant:"outlined",name:"mail",id:"outlined-required",label:"Address mail",placeholder:"xxx@xxx.xxx"})),r.a.createElement(U.a,{item:!0,xs:12},r.a.createElement(tt.c,{googleMapsApiKey:"AIzaSyB3zO_aU97QjkN-p1MUofYobc2QNCf3y2M"},r.a.createElement(dt,null))))))}}]),a}(B),ft=a(61);var pt=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleClose=function(e,t){},n.state={rawData:[],columns:[{title:"Name",field:"fullName"},{title:"E-mail",field:"mail"},{title:"Phone",field:"phone"},{title:"Stat",field:"stat",render:function(e){return function(e){var t="";return Le.ClientStats.forEach((function(a){a.value==e&&(t=a.label)})),t}(e.stat)},editable:"never"}],data:[],selectedRowId:null,open:!1},n.dataTable=r.a.createRef(),n}return Object(o.a)(a,[{key:"loadPartners",value:function(){var e=Object(f.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.MODELS._Partner.getAll(0,20);case 2:(t=e.sent).finalResult?(a=t.result,this.setState({failedLoading:!1,data:a})):this.setState({failedLoading:!0});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadPrimaryData",value:function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadPartners();case 2:this.state.failedLoading?this.currentPage.current.setState({failedLoading:!0}):this.currentPage.current.setState({failedLoading:!1,isLoading:!1});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadPrimaryData();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"changeStat",value:function(){var e=Object(f.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.MODELS._Partner.update(t.id,{stat:a});case 3:e.sent&&(ae("pagesNotifications","Stat Changed successfully","success"),this.dataTable.current.tableRef.current.onQueryChange()),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"deleteEntry",value:function(){var e=Object(f.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.MODELS._Partner.delete(t.id);case 3:e.sent&&(ae("pagesNotifications","Partner Deleted","success"),this.dataTable.current.tableRef.current.onQueryChange({})),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(pe,{ref:this.currentPage,customClass:"ClientsPage",customId:"ClientsPage",title:"Partners",reloadPrimaryInfo:Object(f.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadPrimaryData();case 2:case"end":return t.stop()}}),t)}))),topOperations:[{text:"New Partner",icon:r.a.createElement(ft.Add,null),onClick:function(){e.currentPage.current.mountBackDrop(r.a.createElement(mt,null))}}]},r.a.createElement(Ze,{ref:this.dataTable,columns:this.state.columns,actions:[function(t){switch(t.stat){case 0:return{icon:function(){return r.a.createElement(ft.Check,{style:{color:"blue"}})},onClick:function(t,a){return e.changeStat(a,1)},tooltip:"validate"};case 1:return{icon:function(){return r.a.createElement(ft.Block,{style:{color:"red"}})},tooltip:"Freeze User",onClick:function(t,a){return e.changeStat(a,2)}};case 2:return{icon:function(){return r.a.createElement(ft.Beenhere,{style:{color:"green"}})},tooltip:"Reactivate User",onClick:function(t,a){return e.changeStat(a,1)}}}},function(t){return{icon:function(){return r.a.createElement(ft.Delete,{style:{color:"red"}})},onClick:function(t,a){e.deleteEntry(a).then((function(e){}))},tooltip:"validate"}},function(t){return{icon:function(){return r.a.createElement(p.b,{to:{pathname:"/Dashboard/PartnerDetails/"+t.id,search:"",state:{data:e.state.rawData[t.rowIndex]}}},r.a.createElement(ft.Launch,{style:{color:"black"}}))},tooltip:"Details"}}],onRowClick:function(t,a){t.target.ondblclick=function(){e.props.history.push("/Dashboard/PartnerDetails/"+a.id,{state:{data:e.state.rawData[a.rowIndex]}})}},dataModel:this.MODELS._Partner,searchEntry:"fullName"}))}}]),a}(B),ht=(a(564),a(32)),vt=(a(565),a(566),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={tabsWidgetId:"TabsWidget"+a.id,tabContentId:"tabContent"+a.id,tabButtonId:"tabButton"+a.id,currentIndex:0},a.id++,n}return Object(o.a)(a,[{key:"changeSelected",value:function(e){for(var t=document.getElementsByClassName(this.state.tabButtonId),a=0;a<t.length;a++)t[a].id==e?(t[a].style.color="darkblue",t[a].style.textDecoration="underline"):(t[a].style.color="grey",t[a].style.textDecoration="")}},{key:"generateTabs",value:function(){var e=this;return this.props.tabsList.map((function(t,a){return r.a.createElement("div",{className:"tabTitle"},r.a.createElement("div",{style:{color:"green"},id:e.state.tabButtonId+a,fullWidth:!0,className:"TabsWidgetTab "+e.state.tabButtonId,onClick:Object(f.a)(m.a.mark((function n(){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.setState({currentIndex:a}),void 0!=t.clickHandler&&t.clickHandler();case 2:case"end":return n.stop()}}),n)})))},t.title))}))}},{key:"setContent",value:function(e){return this.changeSelected(this.state.tabButtonId+e),void 0===this.props.children.length?this.props.children:this.props.children[e]}},{key:"componentDidMount",value:function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"TabsWidget",id:this.state.tabsWidgetId},r.a.createElement("div",{className:"tabsHeader"},this.generateTabs()),r.a.createElement("div",{className:"tabContent",id:this.state.tabContentId},this.setContent(this.state.currentIndex))))}}]),a}(r.a.Component));vt.id=0;var bt=vt,Et=(a(567),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={active:n.props.active},n.myRef=r.a.createRef(),n}return Object(o.a)(a,[{key:"setActive",value:function(e){this.setState({active:e})}},{key:"render",value:function(){return this.state.active?r.a.createElement("div",{className:"active "+this.props.className,id:this.props.id,ref:this.myRef},this.props.children):r.a.createElement("div",{className:"active "+this.props.className,id:this.props.id,ref:this.myRef},this.props.children,r.a.createElement("div",{className:"anActive"},this.props.anActiveContent))}}]),a}(r.a.Component)),gt=(a(61),function(e){var t=e.PowerBank,a=e.clickHandler,n=e.id;var i=r.a.useState(!0),c=Object(ht.a)(i,2),s=c[0],o=c[1];return r.a.createElement("div",{className:"PowerBankView",id:n,style:{width:200}},r.a.createElement("b",null,"ID: "),t.powerBankId,r.a.createElement("br",null),r.a.createElement("b",null,"Power Level:"),t.powerLevel,r.a.createElement("br",null),function(e){return e?r.a.createElement(K.a,{fullWidth:!0,startIcon:r.a.createElement($.a,null),variant:"contained",color:"primary",onClick:function(){a(o)}},"Eject"):r.a.createElement("div",null,"Loading")}(s))}),yt=function(e){var t=e.APN,a=e.id;return void 0!=t?r.a.createElement("div",{className:"PowerBankView",id:a},r.a.createElement(U.a,{container:!0,spacing:2,xs:8,style:{width:"100%"}},r.a.createElement(U.a,{item:!0,xs:6},r.a.createElement(ue.a,{fullWidth:!0,id:"outlined-error-helper-text",label:"MCCMNC",defaultValue:t.MCCMNC,size:"small",InputProps:{readOnly:!0}})),r.a.createElement(U.a,{item:!0,xs:6},r.a.createElement(ue.a,{fullWidth:!0,id:"outlined-error-helper-text",label:"Name",defaultValue:t.APN,size:"small",InputProps:{readOnly:!0}})),r.a.createElement(U.a,{item:!0,xs:12}),r.a.createElement(U.a,{item:!0,xs:6},r.a.createElement(ue.a,{fullWidth:!0,id:"outlined-error-helper-text",label:"User Name",defaultValue:t.APN,size:"small",InputProps:{readOnly:!0}})),r.a.createElement(U.a,{item:!0,xs:6},r.a.createElement(ue.a,{fullWidth:!0,id:"outlined-error-helper-text",label:"Password",defaultValue:t.APN,size:"small",InputProps:{readOnly:!0}})))):r.a.createElement("div",null,"APN information not loaded yet")},kt=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={isLoading:!0,failedLoading:!1,currentStation:{Partner:{}},currentStationInfo:{},currentTab:"one",stationAPNs:[]},n.loadPrimaryData().then((function(e){})),n}return Object(o.a)(a,[{key:"loadPrimaryData",value:function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadStationInfo(this.props.id);case 2:if(!e.sent){e.next=8;break}return e.next=6,this.loadPowerBanksInfo(this.state.currentStation.id);case 6:return e.next=8,this.loadAPN(this.state.currentStation.id,0);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.state.failedLoading?this.currentPage.current.setState({failedLoading:!0}):this.currentPage.current.setState({isLoading:!1});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadStationInfo",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.MODELS._Station.getOneByPublicId(t);case 2:if(!0!==(a=e.sent).finalResult){e.next=9;break}return n=a.result,this.setState({currentStation:n}),e.abrupt("return",!0);case 9:return this.setState({failedLoading:!0}),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadPowerBanksInfo",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0==t){e.next=5;break}return e.next=3,this.MODELS._Station.getOneRealTime(t);case 3:!1!==(a=e.sent)?this.setState({currentStationInfo:a}):ae("pagesNotifications","Could not Load Station primary  Data","error");case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadAPN",value:function(){var e=Object(f.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0==t){e.next=5;break}return e.next=3,this.MODELS._Station.queryAPNNs(t,a);case 3:!1!==(n=e.sent)?((r=this.state.stationAPNs)[a]=n,this.setState({stationAPNs:r})):ae("pagesNotifications","Could not Load APN info","error");case 5:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"drawPowerBanks",value:function(e){var t=this;return void 0!=e?e.length>0?e.map((function(e,a){return r.a.createElement("div",{className:"infoEntry"},r.a.createElement(gt,{id:"PowerBank"+a,PowerBank:e,clickHandler:function(){var e=Object(f.a)(m.a.mark((function e(n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!1),e.next=3,t.MODELS._Station.rentPowerBank(t.state.currentStation.id);case 3:e.sent?(ae("pagesNotifications","Power Bank ejected","success"),document.getElementById("PowerBank"+a).style.display="none"):(ae("pagesNotifications","Could not rent the Power Bank","error"),n(!0));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}))})):r.a.createElement("div",null,"No Power Banks on the station"):r.a.createElement("div",null,"Fetching power banks data")}},{key:"drawAPN",value:function(){this.MODELS.station.queryAPNNs(this.state.currentStation.id,"00").then((function(e){if(0!=e)return r.a.createElement(yt,{APN:e});ae("pagesNotifications","Could not load APN info","error","standard",null)}))}},{key:"render",value:function(){var e=this;return r.a.createElement(le,{ref:this.currentPage,customClass:"StationDetailsFragment",customId:"StationDetailsFragment",title:"Station Details"},r.a.createElement("div",{className:"globalInformationHolder"},r.a.createElement("div",{className:"infoEntry"},r.a.createElement("b",null,"System Id:")," ",this.state.currentStation.systemId),r.a.createElement("div",{className:"infoEntry"},r.a.createElement("b",null,"Public Id:"),this.state.currentStation.id),r.a.createElement("div",{className:"infoEntry"},r.a.createElement("b",null,"Total Power Banks:"),"1"),r.a.createElement("div",{className:"infoEntry"},r.a.createElement("b",null,"Partner:"),this.state.currentStation.Partner.fullName)),r.a.createElement(Et,{ref:this.myRef,className:"informationHolder",active:!0,anActiveContent:r.a.createElement(r.a.Fragment,null,r.a.createElement("b",null,"Station offline"),r.a.createElement(K.a,{variant:"contained",color:"primary",onClick:function(){e.myRef.current.setActive(!0),e.loadStationInfo(e.props.id).then(Object(f.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadAPN(e.state.currentStation.id,0);case 2:case"end":return t.stop()}}),t)}))))}},"Try Again"))},r.a.createElement(bt,{tabsList:[{title:"Power Banks"},{title:"Access point names"},{title:"Latest Transactions"}]},r.a.createElement("div",{id:"powerBanksHolder"},this.drawPowerBanks(this.state.currentStationInfo.powerBanksList)),r.a.createElement("div",{id:"APPNSHolder"},r.a.createElement(bt,{tabsList:[{title:"First"},{title:"Second"},{title:"Third"},{title:"Forth"},{title:"Fifth"}]},r.a.createElement("div",{id:"firstHolder"},r.a.createElement(yt,{APN:this.state.stationAPNs[0]})),r.a.createElement("div",{id:"secondHolder"},r.a.createElement(yt,{APN:this.state.stationAPNs[1]})),r.a.createElement("div",{id:"thirdHolder"},r.a.createElement(yt,{APN:this.state.stationAPNs[2]})),r.a.createElement("div",{id:"forthHolder"},r.a.createElement(yt,{APN:this.state.stationAPNs[3]})),r.a.createElement("div",{id:"fifthHolder"},r.a.createElement(yt,{APN:this.state.stationAPNs[4]})))))))}}]),a}(B);a(568);var wt=function(){return r.a.createElement("div",{className:"success-animation"},r.a.createElement("svg",{className:"checkmark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52"},r.a.createElement("circle",{className:"checkmark__circle",cx:"26",cy:"26",r:"25",fill:"none"}),r.a.createElement("path",{className:"checkmark__check",fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"})))},Ot=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={isSubmitted:!1,isSubmitting:!1,done:!1,newInfo:{}},n.submitButton=r.a.createRef(),n}return Object(o.a)(a,[{key:"changeHolder",value:function(e){var t=e.target.name,a=e.target.value;"number"===e.target.type&&(a=parseInt(a)),this.state.newInfo[t]=a}},{key:"drawResult",value:function(){this.props.view.pushNotification(this.props.errorMsg,"error",2e3)}},{key:"handleSubmit",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var a=this;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),this.submitButton.current.setState({isSubmitting:!0}),this.setState({isSubmitting:!0}),e.next=5,this.props.handleSubmit(this.state.newInfo);case 5:if(e.t0=e.sent,!0!==e.t0){e.next=11;break}this.setState({isSubmitted:!0}),setTimeout((function(){a.setState({isSubmitted:!1,isSubmitting:!1})}),2e3),e.next=13;break;case 11:this.drawResult(),this.submitButton.current.setState({isSubmitting:!1});case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"recursiveCloneChildren",value:function(e){var t=this;return r.a.Children.map(e,(function(e){if(!r.a.isValidElement(e))return e;var a={onChange:t.changeHolder.bind(t)};return a.children=t.recursiveCloneChildren(e.props.children),r.a.cloneElement(e,a)}))}},{key:"componentDidMount",value:function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.isSubmitted?r.a.createElement("div",{className:"YitTcpForm",id:"YitTcpForm"},r.a.createElement(wt,null)):r.a.createElement("form",{onSubmit:this.handleSubmit.bind(this),id:"myForm"},r.a.createElement(U.a,{container:!0,spacing:2,xs:12},r.a.createElement(U.a,{container:!0,item:!0,xs:10,spacing:2},this.recursiveCloneChildren(this.props.children)),r.a.createElement(U.a,{item:!0,xs:2},r.a.createElement(ne,{ref:this.submitButton}))))}}]),a}(B),St=a(389),xt=a(390),jt=a(674),Ct=(a(61),function(e){var t=e.APN,a=e.id;return void 0==t&&(t={}),r.a.createElement("div",{className:"PowerBankView",id:a},r.a.createElement(ie,null,r.a.createElement(U.a,{container:!0,spacing:2,xs:12,style:{width:"100%"}},r.a.createElement(U.a,{item:!0,xs:6},r.a.createElement(ue.a,{fullWidth:!0,id:"outlined-error-helper-text",label:"MCCMNC",defaultValue:t.MCCMNC,size:"small",InputProps:{readOnly:!0}})),r.a.createElement(U.a,{item:!0,xs:6},r.a.createElement(ue.a,{fullWidth:!0,id:"outlined-error-helper-text",label:"Name",defaultValue:t.APN,size:"small",InputProps:{readOnly:!0}})),r.a.createElement(U.a,{item:!0,xs:12}),r.a.createElement(U.a,{item:!0,xs:6},r.a.createElement(ue.a,{fullWidth:!0,id:"outlined-error-helper-text",label:"User Name",defaultValue:t.APN,size:"small",InputProps:{readOnly:!0}})),r.a.createElement(U.a,{item:!0,xs:6},r.a.createElement(ue.a,{fullWidth:!0,id:"outlined-error-helper-text",label:"Password",defaultValue:t.APN,size:"small",InputProps:{readOnly:!0}})))))}),Pt=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={isLoading:!0,failedLoading:!1,currentStation:{Partner:{}},currentStationInfo:{},currentTab:"one",stationAPNs:[],partnersList:[],statsList:[{label:"active",id:0},{label:"Frozen",id:1}]},n.fragment=r.a.createRef(),void 0===n.state.currentStation?n.state.currentStation={}:(n.state.currentStation=n.props.station,n.loadPrimaryData().then((function(e){}))),n}return Object(o.a)(a,[{key:"loadPartners",value:function(){var e=Object(f.a)(m.a.mark((function e(){var t,a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.MODELS._Partner.getAll(0,999);case 2:if(!1===(t=e.sent).finalResult){e.next=9;break}a=t.result.rows,n=a.map((function(e){return{value:e.id,label:e.fullName}})),this.setState({partnersList:n}),e.next=11;break;case 9:return this.setState({failedLoading:!0}),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadPrimaryData",value:function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadPartners();case 2:this.state.failedLoading?this.fragment.current.setState({failedLoading:!0}):this.fragment.current.setState({isLoading:!1});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"loadStationInfo",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.MODELS.station.getOnById(t);case 2:if(!0!==(a=e.sent).finalResult){e.next=9;break}return n=a.result,this.setState({currentStation:n}),e.abrupt("return",!0);case 9:return this.setState({failedLoading:!0}),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadPowerBanksInfo",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.MODELS._Station.getOneRealTime(t);case 2:0!=(a=e.sent)?this.setState({currentStationInfo:a}):ae("pagesNotifications","Could not Load Station primary  Data","error");case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadAPN",value:function(){var e=Object(f.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.MODELS._Station.queryAPNNs(t,a);case 2:0!=(n=e.sent)?((r=this.state.stationAPNs)[a]=n,this.setState({stationAPNs:r})):ae("pagesNotifications","Could not Load APN info","error");case 4:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handleSubmitStationData",value:function(){var e=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.MODELS._Station.update(this.state.currentStation.systemId,t);case 2:if(!0!==e.sent.finalResult){e.next=7;break}return e.abrupt("return",!0);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleSetAddress",value:function(){var e=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.MODELS._Station.setAddress(this.state.currentStation.id,t);case 2:if(!0!==e.sent.finalResult){e.next=7;break}return e.abrupt("return",!0);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleSetVolume",value:function(){var e=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.MODELS._Station.setVolume(this.state.currentStation.id,t.level);case 2:if(!0!==e.sent.finalResult){e.next=7;break}return e.abrupt("return",!0);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"drawAPN",value:function(){this.MODELS.station.queryAPNNs(this.state.currentStation.id,"00").then((function(e){if(0!=e)return r.a.createElement(Ct,{APN:e});ae("pagesNotifications","Could not load APN info","error","standard",null)}))}},{key:"render",value:function(){var e=this;return r.a.createElement(le,{ref:this.fragment,customClass:"StationEditForm",customId:"StationEditForm",title:"Station Details",primaryInfoLoader:function(){e.loadPrimaryData().then((function(e){}))}},r.a.createElement("div",{className:"hardCodedInfoHolder"},r.a.createElement(bt,{tabsList:[{title:"Primary Info"},{title:"Server configuration"},{title:"APNS"},{title:"Sound Level"}]},r.a.createElement(ie,{handleSubmit:this.handleSubmitStationData.bind(this)},r.a.createElement(U.a,{container:!0,spacing:2,xs:12},r.a.createElement(U.a,{item:!0,xs:12},r.a.createElement("b",null,"Station Primary data")),r.a.createElement(U.a,{item:!0,xs:5},r.a.createElement(ue.a,{disabled:!0,fullWidth:!0,required:!0,variant:"outlined",id:"outlined-required",label:"SystemId",defaultValue:this.state.currentStation.systemId})),r.a.createElement(U.a,{item:!0,xs:7},r.a.createElement(ue.a,{fullWidth:!0,required:!0,variant:"outlined",name:"id",id:"outlined-required",label:"Public Id",defaultValue:this.state.currentStation.id})),r.a.createElement(U.a,{item:!0,xs:8},r.a.createElement(Q.a,{fullWidth:!0},r.a.createElement(ce.a,{id:"demo-simple-select-label"},"Partner"),r.a.createElement(X.a,{labelId:"demo-simple-select-label",id:"currentPartner",label:"Partner",name:"currentPartner",defaultValue:this.state.currentStation.currentPartner},this.state.partnersList.map((function(e){return r.a.createElement(J.a,{value:e.value}," ",e.label)})),r.a.createElement(J.a,{value:10},"Ten")))),r.a.createElement(U.a,{item:!0,xs:4},r.a.createElement(Q.a,{fullWidth:!0},r.a.createElement(ce.a,{id:"demo-simple-select-label"},"Stat"),r.a.createElement(X.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",name:"stat",label:"Stat",defaultValue:this.state.currentStation.stat},this.state.statsList.map((function(e){return r.a.createElement(J.a,{value:e.id}," ",e.label)}))))))),r.a.createElement(Ot,{handleSubmit:this.handleSetAddress.bind(this)},r.a.createElement(U.a,{item:!0,xs:6},r.a.createElement(ue.a,{fullWidth:!0,size:"small",name:"address",required:!0,id:"outlined-required",label:"Server address",placeholder:"xxx.xxx.xxx.xxx"})),r.a.createElement(U.a,{item:!0,xs:3},r.a.createElement(ue.a,{fullWidth:!0,required:!0,type:"number",name:"port",size:"small",id:"outlined-required",label:"Port Number",defaultValue:"4000"})),r.a.createElement(U.a,{item:!0,xs:3},r.a.createElement(ue.a,{fullWidth:!0,required:!0,type:"number",name:"heartBit",size:"small",id:"outlined-required",label:"Heart Bit",defaultValue:"30"}))),r.a.createElement(bt,{tabsList:[{title:"First"},{title:"Second"},{title:"Third"},{title:"Forth"},{title:"Fifth"}]},r.a.createElement("div",{id:"firstHolder"},r.a.createElement(Ct,{APN:this.state.stationAPNs[0]})),r.a.createElement("div",{id:"secondHolder"},r.a.createElement(Ct,{APN:this.state.stationAPNs[1]})),r.a.createElement("div",{id:"thirdHolder"},r.a.createElement(Ct,{APN:this.state.stationAPNs[2]})),r.a.createElement("div",{id:"forthHolder"},r.a.createElement(Ct,{APN:this.state.stationAPNs[3]})),r.a.createElement("div",{id:"fifthHolder"},r.a.createElement(Ct,{APN:this.state.stationAPNs[4]}))),r.a.createElement(Ot,{view:this.fragment.current,errorMsg:"Could not set volume correctly",handleSubmit:this.handleSetVolume.bind(this)},r.a.createElement(U.a,{item:!0,xs:12},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(St.a,null),r.a.createElement(jt.a,{name:"level",min:0,max:15,"aria-label":"Volume",onChange:""}),r.a.createElement(xt.a,null)))))))}}],[{key:"getDerivedStateFromProps",value:function(){}}]),a}(B),Nt=a(61),Dt=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;Object(s.a)(this,a),(n=t.call(this,e)).setValid=Object(f.a)(m.a.mark((function e(){var t,a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=[],a=n.state.rawData,r=0;r<a.length;r++)1==parseInt(a[r].valid)&&t.push(a[r]);n.setState({data:t});case 4:case"end":return e.stop()}}),e)}))),n.state={failedLoading:!1,columns:[{title:"SystemId",field:"systemId"},{title:"ID",field:"id"},{title:"Stat",field:"stat",lookup:{0:r.a.createElement($e.a,{label:"Active",color:"primary",style:{width:120}}),1:r.a.createElement($e.a,{variant:"outlined",label:"Offline",style:{width:120,color:"red"}})}}],stationsList:[],page:0,totalCount:0};new URLSearchParams(window.location.search);return n.tableRef=r.a.createRef(),n}return Object(o.a)(a,[{key:"loadPrimaryData",value:function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.state.failedLoading?this.currentPage.current.setState({failedLoading:!0}):this.currentPage.current.setState({failedLoading:!1,isLoading:!1});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadPrimaryData();case 2:setTimeout((function(){}),3e3);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(pe,Object(ct.a)({ref:this.currentPage,title:"Stations",customClass:"StationsPage",customdId:"StationsPage",contentCustomId:"StationsPageContent",reloadPrimaryInfo:function(){e.loadPrimaryData()},topOperations:[{text:"New Station",icon:r.a.createElement(Nt.Add,null),onClick:function(){e.currentPage.current.mountBackDrop(r.a.createElement(de,null))}}]},"reloadPrimaryInfo",(function(){return e.loadPrimaryData()})),r.a.createElement(Ze,{columns:this.state.columns,actions:[{icon:function(){return r.a.createElement(Nt.Block,{style:{color:"darkred"}})},tooltip:"Delete"},{icon:function(){return r.a.createElement(Nt.Delete,{style:{color:"darkred"}})},tooltip:"Delete"},{icon:function(){return r.a.createElement(Nt.Edit,{style:{color:""}})},tooltip:"Edit",onClick:function(t,a){return e.currentPage.current.mountBackDrop(r.a.createElement(Pt,{station:a}))}}],dataModel:this.MODELS._Station,detailPanel:function(e){return r.a.createElement("div",{className:"stationDetailsHolder"},r.a.createElement(kt,{id:e.id}))}})))}}]),a}(B),It=(a(569),a(384)),Rt=(a(570),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={isSubmitted:!1,isSubmitting:!1,done:!1,partnersList:[],markers:[]},n.fragment=r.a.createRef(),n.stationTypes=[{label:"active",value:0},{label:"inactive",value:1}],n.formRef=r.a.createRef(),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(f.a)(m.a.mark((function e(){var t,a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.MODELS._Partner.getAll(0,999);case 2:!1!==(t=e.sent).finalResult&&(a=t.result.rows,n=a.map((function(e){return{value:e.id,label:e.fullName}})),this.setState({partnersList:n}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.MODELS._Partner.update(this.props.partner.id,t);case 2:if(!(a=e.sent).finalResult){e.next=8;break}return this.formRef.current.setState({doneMsg:a.result}),e.abrupt("return",!0);case 8:return this.formRef.current.setState({errMsg:a.error}),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(le,{ref:this.fragment,customClass:"PartnerEditForm",customId:"PartnerEditForm",isLoading:!1,primaryInfoLoader:function(){return e.loadPrimaryData().then()}},r.a.createElement(ie,{ref:this.formRef,handleSubmit:this.handleSubmit.bind(this),onSuccess:function(){window.location.reload()}},r.a.createElement(U.a,{container:!0,spacing:2,xs:12},r.a.createElement(U.a,{item:!0,xs:6},r.a.createElement(ue.a,{fullWidth:!0,required:!0,variant:"outlined",id:"outlined-required",name:"fullName",label:"Name",defaultValue:this.props.partner.fullName})),r.a.createElement(U.a,{item:!0,xs:3},r.a.createElement(Q.a,{fullWidth:!0},r.a.createElement(ce.a,null,"Rent Policy"),r.a.createElement(X.a,{variant:"outlined",id:"demo-simple-select",name:"type",label:"Rent Policy",defaultValue:this.props.partner.type},nt.a.map((function(e){return r.a.createElement(J.a,{value:e.id}," ",e.label)}))))),r.a.createElement(U.a,{item:!0,xs:3},r.a.createElement(Q.a,{fullWidth:!0},r.a.createElement(ce.a,null,"Stat"),r.a.createElement(X.a,{id:"demo-simple-select",name:"stat",label:"State",defaultValue:this.props.partner.stat},it.a.map((function(e){return r.a.createElement(J.a,{value:e.id}," ",e.label)}))))),r.a.createElement(U.a,{item:!0,xs:6},r.a.createElement(ue.a,{fullWidth:!0,required:!0,variant:"outlined",name:"phone",id:"outlined-required",label:"Phone",placeholder:"0X XX XX XX XX",defaultValue:this.props.partner.phone})),r.a.createElement(U.a,{item:!0,xs:6},r.a.createElement(ue.a,{fullWidth:!0,required:!0,variant:"outlined",name:"mail",id:"outlined-required",defaultValue:this.props.partner.mail,label:"Address mail",placeholder:"xxx@xxx.xxx"})),r.a.createElement(U.a,{item:!0,xs:12},r.a.createElement(tt.c,{googleMapsApiKey:k.API_KEY},r.a.createElement(dt,{center:{lat:this.props.partner.x,lng:this.props.partner.y}}))))))}}]),a}(B)),Lt=(a(571),a(194)),At=a.n(Lt),Tt=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={partners:[]},n.currentForm=r.a.createRef(),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"doGenerate",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.partnerId=this.props.partner.id,e.next=3,this.MODELS._RechargeCode.create(t);case 3:if(!0!==(a=e.sent).finalResult){e.next=8;break}return e.abrupt("return",!0);case 8:return this.currentForm.current.setState({errMsg:JSON.stringify(a.error)}),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"CodeGeneratorForm"},r.a.createElement(ie,{ref:this.currentForm,errorMsg:"Lot created successfully",handleSubmit:this.doGenerate.bind(this)},r.a.createElement(ue.a,{disabled:!0,fullWidth:!0,variant:"outlined",name:"partnerId",labelId:"Partner-select-label",label:"Partner",defaultValue:this.props.partner.fullName}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(ue.a,{required:!0,fullWidth:!0,variant:"outlined",name:"amount",label:"Amount",type:"number"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(ue.a,{required:!0,fullWidth:!0,variant:"outlined",name:"number",label:"Number",type:"number"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Q.a,{fullWidth:!0},r.a.createElement(ce.a,{id:"algorithm-select-label"},"Algorithm"),r.a.createElement(X.a,{fullWidth:!0,name:"algorithm",label:"Algorithm",defaultValue:0},r.a.createElement(J.a,{value:0},"bcrypt + JWT"))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Q.a,{fullWidth:!0},r.a.createElement(ce.a,{id:"demo-simple-select-label"},"Stat"),r.a.createElement(X.a,{required:!0,fullWidth:!0,name:"stat",labelId:"demo-simple-select-label",label:"Stat",defaultValue:1},At.a.map((function(e){return r.a.createElement(J.a,{value:e.value},e.label)}))))))}}]),a}(B),Mt=void 0,Bt=a(61),Ft=function(e){var t=e.data,a=e.icons,n=[{title:"SystemId",field:"systemId"},{title:"ID",field:"id"},{title:"Stat",field:"stat",lookup:{0:r.a.createElement($e.a,{label:"Active",color:"primary",style:{width:120}}),1:r.a.createElement($e.a,{variant:"outlined",label:"Offline",style:{width:120,color:"red"}})}}];return r.a.createElement(Te.a,{style:{height:"100%"},components:{Container:function(e){return r.a.createElement("div",{style:{position:"relative",width:"100%",height:"100%",overflow:"auto"}},e.children)}},icons:a,title:"",columns:n,data:t,localization:{body:{editRow:{deleteText:"are you sur you wanna delete this item "}}},actions:[{icon:function(){return r.a.createElement(Bt.Block,{style:{color:"darkred"}})},tooltip:"Delete"},{icon:function(){return r.a.createElement(Bt.Delete,{style:{color:"darkred"}})},tooltip:"Delete"},function(e){return{icon:function(){return r.a.createElement(Bt.Launch,{style:{color:"black"},onClick:function(){Mt.currentPage.current.mountBackDrop(r.a.createElement(kt,{id:e.id}))}})},tooltip:"Details"}}],options:{actionsColumnIndex:-1,exportButton:!0,toolbar:!1}})},_t=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={isLoading:!0,failedLoading:!0,currentPartner:{Stations:{}}},n}return Object(o.a)(a,[{key:"loadPrimaryData",value:function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadCurrentPartner(this.props.id);case 2:this.state.failedLoading?this.currentPage.current.setState({failedLoading:!0}):this.currentPage.current.setState({failedLoading:!1,isLoading:!1});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadCurrentPartner",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.MODELS._Partner.getOnById(t);case 2:!0===(a=e.sent).finalResult?this.setState({failedLoading:!1,currentPartner:a.result}):this.setState({failedLoading:!0});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadPrimaryData();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(pe,{ref:this.currentPage,customClass:"PartnerDetails",customId:"PartnerDetailsPage",title:"Partner Details",topOperations:[{text:"Print",icon:r.a.createElement(It.a,{fontSize:"medium"}),onClick:function(){e.currentPage.current.mountBackDrop(r.a.createElement(Tt,{partner:e.state.currentPartner}))}},{text:"Edit",icon:r.a.createElement(ze.a,{fontSize:"medium"}),onClick:function(){e.currentPage.current.mountBackDrop(r.a.createElement(Rt,{partner:e.state.currentPartner}))}}],reloadPrimaryInfo:function(){e.loadPrimaryData().then()}},r.a.createElement(bt,{tabsList:[{title:"Global Information"},{title:"Stations"},{title:"Transactions"}]},r.a.createElement("div",{id:"GlobalInfoHolder"},r.a.createElement("div",{className:"globalInformationHolder"},r.a.createElement("b",null,"Name:"),r.a.createElement("br",null),this.state.currentPartner.fullName,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("b",null,"Total affected stations:"),r.a.createElement("br",null),this.state.currentPartner.Stations.length,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("b",null,"Phone:"),r.a.createElement("br",null),this.state.currentPartner.phone,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("b",null,"Current Stat:"),r.a.createElement("br",null),this.state.currentPartner.stat),r.a.createElement("div",{className:"mapHolder"},r.a.createElement(tt.c,{googleMapsApiKey:"AIzaSyB3zO_aU97QjkN-p1MUofYobc2QNCf3y2M"},r.a.createElement(tt.a,{mapContainerStyle:{width:"100%",height:"100%"},center:{lat:this.state.currentPartner.x,lng:this.state.currentPartner.y},zoom:10},r.a.createElement(r.a.Fragment,null))))),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ft,{data:this.state.currentPartner.Stations,icons:Ke})),r.a.createElement(r.a.Fragment,null)))}}]),a}(B),Wt=(a(572),a(149)),zt=a.n(Wt),Vt=a(61);r.a.Component;var Ht=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={rawData:[],columns:[{title:"Id",field:"id"},{title:"Operation",field:"operation",lookup:{0:"Rent",1:"Return"}}],data:[],selectedRowId:null,open:!1},n.submitButton=r.a.createRef(),n}return Object(o.a)(a,[{key:"doGenerate",value:function(){var e=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.MODELS._RechargeCode.create(t);case 2:if(!0!==e.sent.finalResult){e.next=7;break}return e.abrupt("return",!0);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.currentPage.current.setState({isLoading:!1});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dataLoader",value:function(){var e=Object(f.a)(m.a.mark((function e(t,a){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.MODELS._RentTransaction.getAll(t.pageSize*t.page,t.pageSize);case 2:n=e.sent,console.log(n),!1!==n?a({data:n,page:t.page,totalCount:100}):(ae("pagesNotifications","Could not load Stations data","error"),a({data:[],page:t.page,totalCount:100}));case 5:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"loadRentTransactions",value:function(){var e=Object(f.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.MODELS._Transaction.getAll(0,0,100);case 2:if(!(t=e.sent).finalResult){e.next=11;break}return a=t.result,e.next=7,a.forEach((function(e,t,a){var n={id:e.id,operation:e.operation};e.MetaData.forEach((function(e){n[e.dataTitle]=e.dataValue})),a[t]=n}));case 7:return this.setState({columns:[{title:"Id",field:"id"},{title:"Operation",field:"operation",lookup:{0:"Rent",1:"Return"}},{title:"StationId",field:"stationId",render:function(e){return r.a.createElement(p.b,{target:"_blank",to:"/DashBoard/StationsDetails/"+e.stationId},e.stationId)}},{title:"Client Id",field:"clientId"},{title:"StationId",field:"powerBankId"}]}),e.abrupt("return",a);case 11:return e.abrupt("return",[]);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadCartTransactions",value:function(){var e=Object(f.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.MODELS._Transaction.getAll(11,0,100);case 2:if("list"!==typeof(t=e.sent)){e.next=9;break}return e.next=6,t.forEach((function(e,t,a){var n={id:e.id,operation:e.operation};e.MetaData.forEach((function(e){n[e.dataTitle]=e.dataValue})),a[t]=n}));case 6:this.setState({data:t,columns:[{title:"Id",field:"id"},{title:"Operation",field:"operation",lookup:{0:"Rent",1:"Return"}},{title:"Client Id",field:"clientId"},{title:"Recharge code ID",field:"rechargeCodeId"}]}),e.next=10;break;case 9:this.setState({data:[]});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"tabClickHandler",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.target.id,e.next=e.t0===zt.a.Station.rent.id?3:e.t0===zt.a.Station.return.id?7:e.t0===zt.a.wallet.recharge.id?8:11;break;case 3:return e.next=5,this.loadRentTransactions();case 5:return a=e.sent,e.abrupt("break",11);case 7:return e.abrupt("break",11);case 8:return e.next=10,this.loadCartTransactions();case 10:a=e.sent;case 11:"object"===typeof a?this.setState({data:a}):this.setState({data:[]});case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(pe,{ref:this.currentPage,customClass:"TransactionsPage",customId:"TransactionsPage",title:"Transactions",customContentClass:"TransactionsPageContent"},r.a.createElement(Te.a,{icons:Ke,title:"",components:{Toolbar:function(t){return r.a.createElement("div",{className:"TableHeader"},r.a.createElement("div",{className:"tableHeaderTabsContainer"},r.a.createElement("span",{className:"tableTab",onClick:function(t){e.tabClickHandler(t)},id:zt.a.Station.rent.id},"Rent Transactions"),r.a.createElement("span",{className:"tableTab",onClick:function(t){e.tabClickHandler(t)},id:zt.a.Station.return.id},"Return Transactions"),r.a.createElement("span",{className:"tableTab",onClick:e.tabClickHandler.bind(e),id:zt.a.wallet.recharge.id},"Card Transactions")),r.a.createElement(Ae.MTableToolbar,t))},Container:function(e){return r.a.createElement("div",{style:{overflow:"auto",background:"#FFFFFF",width:"100%",height:"100%"}},e.children)}},columns:this.state.columns,data:this.state.data,options:{pageSize:5,actionsColumnIndex:-1,showTitle:!1,grouping:!0,exportAllData:!0},actions:[{icon:function(){return r.a.createElement(Vt.PersonAdd,null)},tooltip:"Add User",isFreeAction:!0,onClick:function(e){},render:"Hello"},function(t){switch(t.stat){case 0:return{icon:function(){return r.a.createElement(Vt.Check,{style:{color:"blue"}})},onClick:function(t,a){return e.changeStat(a,1)},tooltip:"validate"};case 1:return{icon:function(){return r.a.createElement(Vt.Block,{style:{color:"red"}})},tooltip:"Freeze User",onClick:function(t,a){return e.changeStat(a,2)}};case 2:return{icon:function(){return r.a.createElement(Vt.Beenhere,{style:{color:"green"}})},tooltip:"Reactivate User",onClick:function(t,a){return e.changeStat(a,1)}}}},function(t){return{icon:function(){return r.a.createElement(p.b,{to:{pathname:"/Dashboard/PartnerDetails/"+t.id,search:"",state:{data:e.state.rawData[t.rowIndex]}}},r.a.createElement(Vt.Launch,{style:{color:"black"}}))},tooltip:"Details"}}]}))}}]),a}(B),Gt=(a(573),a(434)),qt=a.n(Gt),Yt=(a(582),a(295)),Ut=(a(583),a(584),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={currentImage:"",isSubmitted:!1,isSubmitting:!1,done:!1,partnersList:[],markers:[]},n.stationTypes=[{label:"active",value:0},{label:"inactive",value:1}],n.formRef=r.a.createRef(),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"onImageSelect",value:function(e){var t=URL.createObjectURL(e.target.files[0]),a=document.getElementById("imageTag");this.setState({currentImage:t}),a.style.display="block"}},{key:"handleSubmit",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.generatePassword(),alert(a),t.password=a,e.next=5,this.MODELS._Partner.create(t);case 5:if(!(n=e.sent).finalResult){e.next=10;break}return e.abrupt("return",!0);case 10:return this.formRef.current.setState({errMsg:n.error}),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"YitFilePicker"},r.a.createElement("img",{className:"selectedImage",src:this.state.currentImage,id:"imageTag"}),r.a.createElement(_.a,{color:"primary",variant:"contained",component:"label"},"Select File",r.a.createElement("input",{onChange:function(t){return e.onImageSelect(t)},type:"file",hidden:!0})))}}]),a}(r.a.Component)),Qt=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={isSubmitted:!1,isSubmitting:!1,done:!1,partnersList:[],markers:[]},n.stationTypes=[{label:"active",value:0},{label:"inactive",value:1}],n.formRef=r.a.createRef(),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(f.a)(m.a.mark((function e(){var t,a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.MODELS._Partner.getAll(0,999);case 2:!1!==(t=e.sent).finalResult&&(a=t.result.rows,n=a.map((function(e){return{value:e.id,label:e.fullName}})),this.setState({partnersList:n}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"generatePassword",value:function(){for(var e="0123456789abcdefghijklmnopqrstuvwxyz!@#$%^&*()ABCDEFGHIJKLMNOPQRSTUVWXYZ",t="",a=0;a<=8;a++){var n=Math.floor(Math.random()*e.length);t+=e.substring(n,n+1)}return t}},{key:"handleSubmit",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.generatePassword(),alert(a),t.password=a,e.next=5,this.MODELS._Partner.create(t);case 5:if(!(n=e.sent).finalResult){e.next=10;break}return e.abrupt("return",!0);case 10:return this.formRef.current.setState({errMsg:n.error}),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"NewPartnerForm"},r.a.createElement(ie,{ref:this.formRef,handleSubmit:this.handleSubmit.bind(this)},r.a.createElement(U.a,{container:!0,spacing:2,xs:12},r.a.createElement(U.a,{item:!0,xs:6},r.a.createElement(Q.a,{fullWidth:!0},r.a.createElement(ce.a,null,"Rent Policy"),r.a.createElement(X.a,{id:"demo-simple-select",name:"type",label:"Audience",defaultValue:-1},r.a.createElement(J.a,{value:-1},"Select Audience"),nt.a.map((function(e){return r.a.createElement(J.a,{value:e.id}," ",e.label)}))))),r.a.createElement(U.a,{item:!0,xs:6},r.a.createElement(Q.a,{fullWidth:!0},r.a.createElement(ce.a,null,"State"),r.a.createElement(X.a,{id:"demo-simple-select",name:"type",label:"Stat",defaultValue:-1},r.a.createElement(J.a,{value:-1},"Select initial state"),nt.a.map((function(e){return r.a.createElement(J.a,{value:e.id}," ",e.label)}))))),r.a.createElement(U.a,{item:!0,xs:12},r.a.createElement(Ut,null)))))}}]),a}(B),Xt=a(61),Jt=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={AdImageContainer:"AdImageContainer"+a.id,preImageContainer:"preImageContainer"+a.id,preImage:"preImage"+a.id},a.id++,n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=document.getElementById(this.state.AdImageContainer),a=document.getElementById(this.state.preImageContainer);t.addEventListener("mouseenter",(function(){a.style.display="block",c.a.render(r.a.createElement("img",{className:"preImage",id:e.state.preImage,src:e.props.image}),a)})),t.addEventListener("mouseleave",(function(){c.a.unmountComponentAtNode(a),a.style.display="none"}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"AdImageContainer",id:this.state.AdImageContainer},r.a.createElement("span",{className:"prSpan"},"Preview"),r.a.createElement("div",{className:"preImageContainer",id:this.state.preImageContainer}))}}]),a}(r.a.Component);Jt.id=0;var Kt=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={rawData:[],columns:[{title:"ID",field:"id",editable:"never"},{title:"Image",field:"image",render:function(e){return r.a.createElement(Jt,{image:e.image})},editComponent:function(e){return void 0!==e.value?r.a.createElement("div",null,r.a.createElement(ue.a,{disabled:!0,fullWidth:!0,defaultValue:e.value})):r.a.createElement(Yt.a,null,r.a.createElement(J.a,{value:0},"Upload File"),r.a.createElement(J.a,{value:1},"Enter Link"))}},{title:"Type",field:"type",lookup:{0:"Show to all",1:"Vip Only",2:"Normal Only"}},{title:"Stat",field:"stat",lookup:{0:"New",1:"Active",2:"Frozen"}}],data:[],selectedRowId:null,open:!1},n.dataTable=r.a.createRef(),n}return Object(o.a)(a,[{key:"updateAd",value:function(){var e=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.MODELS._Ad.update(t.id,t);case 3:e.sent.finalResult?(ae("pagesNotifications","Ad  Updated","success"),this.dataTable.current.tableRef.current.onQueryChange()):ae("pagesNotifications","Could update Client","error"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ae("pagesNotifications","Could not change client info","error");case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"loadAds",value:function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.MODELS._Ad.getAll();case 2:e.sent,this.setState({failedLoading:!1,data:[]});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadPrimaryData",value:function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadAds();case 2:this.state.failedLoading?this.currentPage.current.setState({failedLoading:!0}):this.currentPage.current.setState({failedLoading:!1,isLoading:!1});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadPrimaryData();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"changeStat",value:function(){var e=Object(f.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.MODELS._Partner.update(t.id,{stat:a});case 3:e.sent&&(ae("pagesNotifications","Stat Changed successfully","success"),this.dataTable.current.tableRef.current.onQueryChange()),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"deleteEntry",value:function(){var e=Object(f.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.MODELS._Partner.delete(t.id);case 3:e.sent&&(ae("pagesNotifications","Partner Deleted","success"),this.dataTable.current.tableRef.current.onQueryChange({})),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(pe,{ref:this.currentPage,customClass:"ClientsPage",customId:"ClientsPage",title:"Advertising",reloadPrimaryInfo:Object(f.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadPrimaryData();case 2:case"end":return t.stop()}}),t)}))),topOperations:[{text:"New Advertising ",icon:r.a.createElement(Xt.Add,null),onClick:function(){e.currentPage.current.mountBackDrop(r.a.createElement(Qt,null))}}]},r.a.createElement(Ze,{ref:this.dataTable,columns:this.state.columns,onRowClick:function(t,a){t.target.ondblclick=function(){e.props.history.push("/Dashboard/PartnerDetails/"+a.id,{state:{data:e.state.rawData[a.rowIndex]}})}},dataModel:this.MODELS._Ad,searchEntry:"fullName",actions:[{icon:function(){return r.a.createElement(Xt.Preview,null)},tooltip:"Preview",onClick:function(t,a){e.currentPage.current.mountBackDrop(r.a.createElement(qt.a,{type:"mobile",withDeviceSwitch:!0,withRotator:!0,url:"https://nestjs.com/"}))}}],editable:{onRowAdd:function(e){return new Promise((function(e,t){}))},onRowUpdate:function(t,a){return e.updateAd(t)},onRowDelete:function(t){return new Promise((function(a,n){e.deleteEntry(t).then((function(e){return a()}))}))}}}))}}]),a}(B),Zt=a(61),$t=[{path:"/DashBoard/Dashboard",name:"Dashboard",icon:Zt.Dashboard,component:Re},{path:"/DashBoard/Stations",name:"Stations",icon:Zt.Apps,component:Dt},{path:"/DashBoard/Clients",name:"Clients",rtlName:"Sessions",icon:Zt.PeopleAltSharp,component:et,layout:"/admin"},{path:"/DashBoard/Partners",name:"Partners",icon:Zt.PeopleOutlineRounded,component:pt},{path:"/DashBoard/PartnerDetails/:id",parametrised:!0,component:_t,layout:"/admin"},{path:"/DashBoard/Transactions",name:"Transactions",icon:Zt.Receipt,component:Ht},{path:"/DashBoard/Ads",name:"Ads Manager",icon:Zt.BurstModeSharp,component:Kt}];var ea=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(s.a)(this,a),t.call(this,e)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{className:"NavBar"},$t.map((function(e,t){if(void 0===e.parametrised)return r.a.createElement(p.c,{className:"navEntry",to:e.path,key:t},r.a.createElement("div",{className:"navIcon"},r.a.createElement(e.icon,{style:{fontSize:"xx-large"}})),r.a.createElement("span",{className:"navText"},e.name))})))}}]),a}(r.a.Component),ta=(a(585),a(435)),aa=a.n(ta),na=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(s.a)(this,a),t.call(this,e)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{className:"Logo",src:aa.a}))}}]),a}(r.a.Component),ra=a(679),ia=a(680),ca=a(688),sa=a(689),oa=a(61),la=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={openDialog:!1},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){}},{key:"logOut",value:function(){k.LOCALSTORAGE.removeItem("adminMail"),k.LOCALSTORAGE.removeItem("adminToken"),window.location.assign("/Login")}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"LeftPane"},r.a.createElement(ra.a,{open:this.state.openDialog,onClose:function(){}},r.a.createElement(ia.a,null,r.a.createElement(ca.a,{id:"alert-dialog-description"},"You are about to leave the application")),r.a.createElement(sa.a,null,r.a.createElement(K.a,{onClick:this.logOut},"Log Out"),r.a.createElement(K.a,{onClick:function(){e.setState({openDialog:!1})}},"close"))),r.a.createElement("div",{className:"logoContainer"},r.a.createElement(na,null)),r.a.createElement("div",{className:"navBarContainer"},r.a.createElement(ea,null)),r.a.createElement("span",{className:"logOutButton",onClick:function(){e.setState({openDialog:!0})}},r.a.createElement(oa.LogoutOutlined,null),r.a.createElement("p",{className:"navText"},"Log Out"))))}}]),a}(r.a.Component);a(586);var ua=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"RightPane",id:"RightPane"},(e=$t,r.a.createElement(h.d,null,e.map((function(e,t){return void 0===e.parametrised||!1===e.parametrised?r.a.createElement(h.b,{key:t,exact:!0,path:e.path,component:e.component}):r.a.createElement(h.b,{key:t,exact:!0,path:e.path,render:function(t){return r.a.createElement(e.component,{id:t.match.params.id})}})})),r.a.createElement(h.a,{from:"/",to:"/DashBoard/Dashboard"})))));var e}}]),a}(r.a.Component),da=(a(587),window.localStorage,{login:function(){var e=Object(f.a)(m.a.mark((function e(t){var a,n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},e.next=4,fetch(k.SERVER+"Guest/adminLogin",a);case 4:return n=e.sent,e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r);case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",{finalResult:!1,error:"Could not connect to the server"});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),HeartBit:function(){var e=Object(f.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.GET(k.SERVER+"HeartBit");case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{finalResult:!1,error:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()}),ma=function(){return null!=k.LOCALSTORAGE.getItem("adminMail")},fa=a(686),pa=a(687),ha=a(668),va=a(685);function ba(e){return n.createElement(va.a,Object.assign({variant:"body2",color:"text.secondary",align:"center"},e),"Copyright \xa9 ",n.createElement(p.b,{color:"inherit",href:"https://material-ui.com/"},"CBC ALTEC")," ",(new Date).getFullYear(),".")}function Ea(e,t,a){k.LOCALSTORAGE.setItem("adminMail",e),k.LOCALSTORAGE.setItem("admin",t),k.LOCALSTORAGE.setItem("adminToken",a),c.a.render(n.createElement(q.a,{severity:"success",onClose:function(){}},"Login success, redirecting..."),document.getElementById("resultContainer")),setTimeout((function(){window.location.assign("/DashBoard")}),1500)}function ga(){var e=function(){var e=Object(f.a)(m.a.mark((function e(t){var a,r,i,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=new FormData(t.currentTarget),r=a.get("email"),i=a.get("password"),e.next=6,da.login({mail:r,pass:i});case 6:void 0!==(s=e.sent)?!0===s.finalResult?Ea(r,s.admin,s.token):c.a.render(n.createElement(q.a,{severity:"error",onClose:function(){}},s.error),document.getElementById("resultContainer")):c.a.render(n.createElement(q.a,{severity:"error",onClose:function(){}},"Unknown error occurred"),document.getElementById("resultContainer"));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return ma()&&window.location.assign("/Dashboard/Dashboard"),n.createElement("section",{className:"LoginPage"},n.createElement("div",{className:"leftSide",style:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"}}),n.createElement("div",{className:"rightSide"},n.createElement("div",{className:"resultContainer",id:"resultContainer"}),n.createElement(fa.a,{sx:{my:8,mx:4,display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"grey"}},"Sign in",n.createElement(fa.a,{component:"form",noValidate:!0,onSubmit:e,sx:{mt:1}},n.createElement(ue.a,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),n.createElement(ue.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),n.createElement(pa.a,{control:n.createElement(ha.a,{value:"remember",color:"primary"}),label:"Remember me"}),n.createElement(K.a,{color:"primary",type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Sign In"),n.createElement(U.a,{container:!0},n.createElement(U.a,{item:!0,xs:!0},n.createElement(p.b,{href:"#",variant:"body2"},"Forgot password?")),n.createElement(U.a,{item:!0},n.createElement(p.b,{href:"#",variant:"body2"},"Don't have an account? Sign Up"))),n.createElement(ba,{sx:{mt:5}})))))}a(588);var ya=a(91),ka=a(197),wa={items:[],item:{}},Oa=Object(ya.c)({AppStates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HeartBit":return Object(ka.a)(Object(ka.a)({},e),{},{server:t.payLoad});case"internet":return Object(ka.a)(Object(ka.a)({},e),{},{internet:t.payLoad});default:return e}}}),Sa=function(e){return{server:e.AppStates.server,internet:e.AppStates.internet}},xa=a(669),ja=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={server:!0},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"drawStatus",value:function(e,t){return e?0==t?r.a.createElement(xa.a,{variant:"filled",severity:"error",style:{fontSize:"1.1vw",fontWeight:"bold"}},"Server connection lost"):void 0:r.a.createElement(xa.a,{variant:"filled",severity:"error",style:{fontSize:"1.1vw",fontWeight:"bold"}},"Internet connection lost !!")}},{key:"render",value:function(){return r.a.createElement("div",{className:"Main"},r.a.createElement("div",{className:"statusBar",id:"statusBar"},this.drawStatus(this.props.internet,this.props.server)),r.a.createElement("div",{className:"Content"},r.a.createElement(p.a,null,r.a.createElement(h.d,null,r.a.createElement(h.b,{path:"/Login",component:ga}),r.a.createElement(h.b,{path:"/DashBoard"},r.a.createElement(la,null),r.a.createElement(ua,null))))))}}]),a}(r.a.Component),Ca=Object(v.b)(Sa,{})(ja),Pa=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;Object(s.a)(this,a),n=t.call(this,e);k.LOCALSTORAGE.getItem("adminMail"),k.LOCALSTORAGE.getItem("adminToken");return ma()||window.location.assign("/Login"),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentWillMount",value:function(){var e=Object(f.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.checkServer,setInterval((function(){t()}),1e3);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,null,r.a.createElement(h.d,null,r.a.createElement(h.b,{path:"/"},r.a.createElement(Ca,null)))))}}]),a}(r.a.Component),Na=Object(v.b)(Sa,{checkServer:function(){return function(){var e=Object(f.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,da.HeartBit();case 2:e.sent.finalResult?t({type:"HeartBit",payLoad:!0}):t({type:"HeartBit",payLoad:!1}),a=navigator.onLine,t({type:"internet",payLoad:a});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(Pa);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Da=[a(436).a],Ia=Object(ya.e)(Oa,{},Object(ya.d)(ya.a.apply(void 0,Da)));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(v.a,{store:Ia},r.a.createElement(p.a,null,r.a.createElement(h.d,null,r.a.createElement(h.b,{path:"/Login"},r.a.createElement(ga,null)),r.a.createElement(h.b,{path:"/DashBoard"},r.a.createElement(Na,null)))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[467,1,2]]]);
//# sourceMappingURL=main.b980466d.chunk.js.map