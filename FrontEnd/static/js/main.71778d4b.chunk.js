(this["webpackJsonpcbc-altec-admin-panel"]=this["webpackJsonpcbc-altec-admin-panel"]||[]).push([[0],{138:function(e,t){e.exports={Station:{rent:{label:"Rent",id:"0"},return:{label:"Return",id:"1"}},wallet:{recharge:{label:"Recharge",id:"10"},payment:{label:"payment",id:"11"}}}},174:function(e,t){e.exports={ClientStats:[{label:"New",value:"0"},{label:"Active",value:"1"},{label:"Trusted",value:"2"},{label:"Frozen",value:"10"}]}},183:function(e,t){e.exports=[{label:"Payed",id:"0"},{label:"Free",id:"1"}]},184:function(e,t){e.exports=[{label:"New",value:"0"},{label:"Ready to print",value:"1"}]},236:function(e,t){e.exports=[{label:"New",id:"0"},{label:"Active",id:"1"},{label:"Trusted",id:"2"},{label:"Frozen",id:"10"}]},35:function(e,t){var a=window.localStorage;e.exports={SERVER:"http://164.132.59.129:8080/",ACTOR:"Admin/",LOCALSTORAGE:a,MAP_API_KEY:"AIzaSyBoTIuXI-Z7O3XPL1Ysx8cyloLmv2Ls2-M"}},436:function(e,t,a){},526:function(e,t,a){e.exports=a.p+"static/media/logo.2673b52f.svg"},554:function(e,t,a){e.exports=a(744)},559:function(e,t,a){},565:function(e,t,a){},566:function(e,t,a){},567:function(e,t,a){},568:function(e,t,a){},569:function(e,t,a){},588:function(e,t,a){},589:function(e,t,a){},591:function(e,t,a){},603:function(e,t,a){},604:function(e,t,a){},605:function(e,t,a){},662:function(e,t,a){},706:function(e,t,a){},711:function(e,t,a){},712:function(e,t,a){},713:function(e,t,a){},714:function(e,t,a){},715:function(e,t,a){},716:function(e,t,a){},717:function(e,t,a){},718:function(e,t,a){},719:function(e,t,a){},720:function(e,t,a){},721:function(e,t,a){},722:function(e,t,a){},723:function(e,t,a){},724:function(e,t,a){},725:function(e,t,a){},729:function(e,t,a){},739:function(e,t,a){},740:function(e,t,a){},741:function(e,t,a){},742:function(e,t,a){},743:function(e,t,a){},744:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),i=a(22),s=a.n(i),c=(a(559),a(13)),o=a(15),l=a(16),u=a(17),d=a(7),m=a.n(d),p=a(9),f=a(62),h=a(68),v=(a(436),a(105)),b=(a(565),a(566),a(128)),g=(a(567),a(568),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;Object(c.a)(this,a);var r={backgroundColor:(n=t.call(this,e)).props.backgroundColor},i=n.props.icon;return n.state={style:r,icon:i},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"StatBox"},r.a.createElement("div",{className:"IconHolder",style:this.state.style},this.props.icon),r.a.createElement("div",{className:"statsHolder"},r.a.createElement("span",{className:"title"},this.props.title),r.a.createElement("span",{className:"number"},this.props.number)),r.a.createElement("span",{className:"alt"},this.props.text)))}}]),a}(r.a.Component)),E=a(519),y=a.n(E),k=(a(569),a(35)),w=a(570),O={GET:function(e,t){return Object(p.a)(m.a.mark((function a(){var n,r,i,s;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=new AbortController,setTimeout((function(){return n.abort()}),0),r={method:"GET",headers:{"Content-Type":"application/json",authorization:"Bearer "+t},authorization:"Bearer "+t,timeout:5},a.prev=3,a.next=6,fetch(e,r);case 6:return i=a.sent,a.next=9,i.json();case 9:return s=a.sent,a.abrupt("return",s);case 13:return a.prev=13,a.t0=a.catch(3),a.abrupt("return",{finalResult:!1,error:a.t0});case 16:case"end":return a.stop()}}),a,null,[[3,13]])})))()},POST:function(e,t,a){return Object(p.a)(m.a.mark((function n(){var r,i,s;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={method:"POST",headers:{"Content-Type":"application/json",authorization:"Bearer "+a},body:JSON.stringify(t)},n.prev=1,n.next=4,fetch(e,r);case 4:return i=n.sent,n.next=7,i.json();case 7:return s=n.sent,n.abrupt("return",s);case 11:return n.prev=11,n.t0=n.catch(1),n.abrupt("return",{finalResult:!1,error:n.t0});case 14:case"end":return n.stop()}}),n,null,[[1,11]])})))()},sendFile:function(e,t,a){return Object(p.a)(m.a.mark((function n(){var r,i;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={method:"post",url:e,headers:{Authorization:"Bearer "+a},data:t},n.prev=1,n.next=4,w(r);case 4:return i=n.sent,n.abrupt("return",i.data);case 8:return n.prev=8,n.t0=n.catch(1),n.abrupt("return",{finalResult:!1,error:n.t0});case 11:case"end":return n.stop()}}),n,null,[[1,8]])})))()}},S=function(){function e(t,a){var n=this;Object(c.a)(this,e),this.create=function(){var e=Object(p.a)(m.a.mark((function e(t){var a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.MAIN_ENTRY+"create",alert(a),e.next=4,O.POST(a,t,n.adminToken);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.update=function(){var e=Object(p.a)(m.a.mark((function e(t,a){var r,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.MAIN_ENTRY+"update/"+t,e.next=3,O.POST(r,a,n.adminToken);case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),this.adminToken=t,this.MAIN_ENTRY=k.SERVER+k.ACTOR+a}return Object(o.a)(e,[{key:"getAll",value:function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=this.MAIN_ENTRY+"getAll/"+t+"/"+a,e.next=4,O.GET(n,this.adminToken);case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",{finalResult:!1});case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getOnById",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=this.MAIN_ENTRY+"getOne/"+t,e.next=4,O.GET(a,this.adminToken);case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{finalResult:!1});case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"searchBy",value:function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=this.MAIN_ENTRY+"searchBy/"+t+"/"+a,e.next=4,O.GET(n,this.adminToken);case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{finalResult:!1});case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"count",value:function(){var e=Object(p.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.MAIN_ENTRY+"count",e.next=4,O.GET(t,this.adminToken);case 4:return a=e.sent,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{finalResult:!1});case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"countWhere",value:function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=this.MAIN_ENTRY+"count/"+t+"/"+a,e.next=4,O.GET(n,this.adminToken);case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{finalResult:!1});case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=this.MAIN_ENTRY+"delete/"+t,e.next=4,O.GET(a,this.adminToken);case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{finalResult:!1});case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),x=k.SERVER+k.ACTOR+"Station/",j=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e,"Station/")).adminToken=e,n}return Object(o.a)(a,[{key:"getOneByPublicId",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=x+"getOneByPublicId/"+t,e.next=3,O.GET(a,this.adminToken);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getOneRealTime",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=x+"getRealTimeInfo/"+t,e.next=3,O.GET(a,this.adminToken);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"rentPowerBank",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=x+"rentPowerBank/"+t,e.next=3,O.GET(a,this.adminToken);case 3:return n=e.sent,e.abrupt("return",n.finalResult);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queryAPNNs",value:function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=parseInt(a),n=x+"queryAPNNs/"+t+"/"+(a="0"+a),e.next=5,O.GET(n,this.adminToken);case 5:if(!(r=e.sent).finalResult){e.next=10;break}return e.abrupt("return",r.data);case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"setAddress",value:function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=x+"setAddress/"+t,e.next=3,O.POST(n,a,this.adminToken);case 3:return r=e.sent,console.log(r),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"setVolume",value:function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=parseInt(a),n=x+"setVolume/"+t+"/"+a,e.next=4,O.GET(n,this.adminToken);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()}]),a}(S),C=k.SERVER+k.ACTOR+"Client/",P=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e,"Client/")).create=function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=C+"getAll/0/99999",e.next=3,O.POST(a,t);case 3:if(!(n=e.sent).finalResult){e.next=8;break}return e.abrupt("return",n.result);case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.adminToken=e,n}return Object(o.a)(a,[{key:"getOnById",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n,r,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=C+"getOne/"+t,n={method:"GET",headers:{"Content-Type":"application/json"}},e.next=4,fetch(a,n);case 4:return r=e.sent,e.next=7,r.json();case 7:if(1!=(i=e.sent).finalResult){e.next=12;break}return e.abrupt("return",i.result);case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),a}(S),I=k.SERVER+k.ACTOR+"Partner/",D=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e,"Partner/")).update=function(){var e=Object(p.a)(m.a.mark((function e(t,a){var r,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=I+"update/"+t,e.next=3,O.POST(r,a,n.adminToken);case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.addImages=function(){var e=Object(p.a)(m.a.mark((function e(t,a){var r,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=I+"addImages/"+t,e.next=3,O.POST(r,{images:a},n.adminToken);case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.deleteImage=function(){var e=Object(p.a)(m.a.mark((function e(t){var a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=I+"deleteImages/"+t,e.next=3,O.GET(a,n.adminToken);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.adminToken=e,n}return a}(S),N=k.SERVER+k.ACTOR+"Setting/",L=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e,"Setting/")).update=function(){var e=Object(p.a)(m.a.mark((function e(t,a){var r,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=N+"update/"+t,e.next=3,O.POST(r,a,n.adminToken);case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.adminToken=e,n}return a}(S),R=k.SERVER+k.ACTOR+"RechargeCode/",A=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e,"RechargeCode/")).adminToken=e,n}return Object(o.a)(a,[{key:"getOnById",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n,r,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=R+"getOne/"+t,n={method:"GET",headers:{"Content-Type":"application/json"}},e.next=4,fetch(a,n);case 4:return r=e.sent,e.next=7,r.json();case 7:if(1!=(i=e.sent).finalResult){e.next=12;break}return e.abrupt("return",i.result);case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllForPartner",value:function(){var e=Object(p.a)(m.a.mark((function e(t,a,n){var r,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=this.MAIN_ENTRY+"getAll/"+t+"/"+a+"/"+n,e.next=4,O.GET(r,this.adminToken);case 4:return i=e.sent,e.abrupt("return",i);case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",{finalResult:!1});case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t,a,n){return e.apply(this,arguments)}}()}]),a}(S),T=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(c.a)(this,a),t.call(this,e,"RentTransactions/")}return Object(o.a)(a,[{key:"getAll",value:function(){var e=Object(p.a)(m.a.mark((function e(t,a,n){var r,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.MAIN_ENTRY+"getAll/"+t+"/"+a+"/"+n,e.next=3,O.GET(r,this.adminToken);case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()}]),a}(S),M=k.SERVER+k.ACTOR+"Ads/",B=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e,"Ads/")).adminToken=e,n}return Object(o.a)(a,[{key:"getOnById",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n,r,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=M+"getOne/"+t,n={method:"GET",headers:{"Content-Type":"application/json"}},e.next=4,fetch(a,n);case 4:return r=e.sent,e.next=7,r.json();case 7:if(1!=(i=e.sent).finalResult){e.next=12;break}return e.abrupt("return",i.result);case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),a}(S),F=k.SERVER+k.ACTOR+"Tools/",_=function e(t){var a=this;Object(c.a)(this,e),this.uploadFiles=function(){var e=Object(p.a)(m.a.mark((function e(t,n){var r,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=F+"UploadFiles/"+t,e.next=3,O.sendFile(r,n,a.adminToken);case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),this.adminToken=t},W=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).currentPage=r.a.createRef(),n.MODELS={_Station:new j(k.LOCALSTORAGE.getItem("adminToken")),_Client:new P(k.LOCALSTORAGE.getItem("adminToken")),_Setting:new L(k.LOCALSTORAGE.getItem("adminToken")),_Partner:new D(k.LOCALSTORAGE.getItem("adminToken")),_RechargeCode:new A(k.LOCALSTORAGE.getItem("adminToken")),_Transaction:new T(k.LOCALSTORAGE.getItem("adminToken")),_Ad:new B(k.LOCALSTORAGE.getItem("adminToken")),_Tools:new _(k.LOCALSTORAGE.getItem("adminToken"))},n.state={failedLoading:!0},n}return Object(o.a)(a,[{key:"checkLoadStatus",value:function(e){}}]),a}(r.a.Component),z=a(860),V=a(446),H=a(295),U=a.n(H),G=a(854),q=a(515),Y=a.n(q),X=a(829),Q=a(445),J=(a(588),a(842)),K=a(855),Z=a(828),$=a(448),ee=(a(589),a(847)),te=a(120),ae=a.n(te),ne=a(859),re=a(512);var ie=function(e,t,a,n,i){"string"!==typeof t&&(t="Critique Error, check console");var c=function(n){return Object(re.a)(n),r.a.createElement(r.a.Fragment,null,r.a.createElement(X.a,{id:"alert",severity:a,sx:{mb:2},action:r.a.createElement(G.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){!function(e,t){s.a.unmountComponentAtNode(document.getElementById(e))}(e)}},r.a.createElement(Q.a,{fontSize:"inherit"}))},t))};try{s.a.render(r.a.createElement(c,null),document.getElementById(e)),null!=i&&setTimeout((function(){s.a.unmountComponentAtNode(document.getElementById(e))}),i)}catch(o){console.log("could not render teh notifications, check again"),console.log(o)}};var se=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={isSubmitting:!1},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return this.state.isSubmitting?r.a.createElement(ne.a,{fullWidth:!0,loading:!0,loadingPosition:"start",startIcon:r.a.createElement(ae.a,null),variant:"outlined"},"Requesting"):r.a.createElement(V.a,{fullWidth:!0,startIcon:r.a.createElement(ae.a,null),variant:"contained",color:"primary",id:"4444",type:"submit"},"Submit")}}]),a}(W);var ce=function(){return r.a.createElement("div",{className:"success-animation"},r.a.createElement("svg",{className:"checkmark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52"},r.a.createElement("circle",{className:"checkmark__circle",cx:"26",cy:"26",r:"25",fill:"none"}),r.a.createElement("path",{className:"checkmark__check",fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"})))},oe=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={isSubmitted:!1,isSubmitting:!1,done:!1,newInfo:{},doneMsg:void 0===n.props.doneMsg?"Operation success":"Operation failed",errMsg:void 0!==n.props.errMsg?n.props.errMsg:"Operation failed"},n.submitButton=r.a.createRef(),n}return Object(o.a)(a,[{key:"changeHolder",value:function(e){var t=e.target.name,a=e.target.value;"number"===e.target.type&&(a=parseInt(a)),this.state.newInfo[t]=a}},{key:"onDragEndOld",value:function(e){var t=e.latLng.lat(),a=e.latLng.lng();this.state.newInfo.x=t,this.state.newInfo.y=a}},{key:"onDragEnd",value:function(e,t){console.log(e);var a=e,n=t;this.state.newInfo.x=a,this.state.newInfo.y=n}},{key:"handleSubmit",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var a=this;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),this.submitButton.current.setState({isSubmitting:!0}),this.setState({isSubmitting:!0}),alert(JSON.stringify(this.state.newInfo)),e.next=6,this.props.handleSubmit(this.state.newInfo);case 6:if(e.t0=e.sent,!0!==e.t0){e.next=14;break}this.setState({isSubmitted:!0}),ie("notificationsContainer1",this.state.doneMsg,"success"),void 0!==this.props.onSuccess&&this.props.onSuccess(),setTimeout((function(){a.setState({isSubmitted:!1,isSubmitting:!1})}),2e3),e.next=17;break;case 14:this.setState({isSubmitted:!1,isSubmitting:!1}),ie("notificationsContainer1",this.state.errMsg,"error"),this.submitButton.current.setState({isSubmitting:!1});case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"recursiveCloneChildren",value:function(e){var t=this;return r.a.Children.map(e,(function(e){if(!r.a.isValidElement(e))return e;if("YitLocationPicker"===e.type.displayName){var a={onDragEnd:t.onDragEndOld.bind(t)};return r.a.cloneElement(e,a)}var n={onChange:t.changeHolder.bind(t)};return n.children=t.recursiveCloneChildren(e.props.children),r.a.cloneElement(e,n)}))}},{key:"componentDidMount",value:function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.isSubmitted?r.a.createElement("div",{className:"YitForm",id:"YitForm"},r.a.createElement(ce,null)):r.a.createElement("div",{className:"YitForm",id:"YitForm"},r.a.createElement("form",{onSubmit:this.handleSubmit.bind(this),id:"myForm"},this.recursiveCloneChildren(this.props.children),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(J.a,{container:!0,item:!0,spacing:2},r.a.createElement(J.a,{item:!0,xs:4}),r.a.createElement(J.a,{item:!0,xs:4},r.a.createElement(ee.a,{variant:"outlined",fullWidth:!0,color:"secondary",id:"outlined-error-helper-text",label:"Password",defaultValue:"APN.APN",type:"reset"},"Reset")),r.a.createElement(J.a,{item:!0,xs:4},r.a.createElement(se,{ref:this.submitButton})))))}}]),a}(W),le=a(839),ue=(a(591),a(356)),de=a.n(ue),me=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={isLoading:void 0===n.props.isLoading||n.props.isLoading,failedLoading:!1,notifications:new Map},n.notId=0,n}return Object(o.a)(a,[{key:"pushNotification",value:function(e,t,a){var n=this,i=this.notId;this.state.notifications.set(i,r.a.createElement(X.a,{id:i,severity:t,sx:{mb:2},action:r.a.createElement(G.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){n.state.notifications.delete(i),n.setState({notifications:n.state.notifications})}},r.a.createElement(Q.a,{fontSize:"inherit"}))},e)),this.notId++,this.setState({notifications:this.state.notifications}),void 0!==a&&setTimeout((function(){n.state.notifications.delete(i),n.setState({notifications:n.state.notifications})}),a)}},{key:"componentDidMount",value:function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"drawNotifications",value:function(e){var t=[];return e.forEach((function(e,a){t.push(e)})),t}},{key:"mountFragmentBackDrop",value:function(e){document.getElementById("BackDrop").addEventListener("click",(function(){document.getElementById("BackDrop").style.display="none"})),document.getElementById("BackDropContent").addEventListener("click",(function(e){e.stopPropagation()})),document.getElementById("BackDrop").style.display="flex",s.a.render(e,document.getElementById("BackDropContent"))}},{key:"unmount",value:function(e){document.getElementById("BackDrop").style.display="none"}},{key:"drawOperations",value:function(){if(void 0!=this.props.topOperations)return this.props.topOperations.map((function(e){return r.a.createElement("div",{style:{marginLeft:10}},e)}))}},{key:"render",value:function(){var e=this;return this.state.failedLoading?r.a.createElement("div",{className:"failedToLoadPage"},r.a.createElement("span",null,"Failed to load Fragment primary data"),r.a.createElement("br",null),r.a.createElement(ee.a,{style:{width:"10vw"},variant:"contained",startIcon:r.a.createElement(U.a,null),onClick:function(){return e.props.primaryInfoLoader}},"retry")):this.state.isLoading?r.a.createElement("div",{className:"loadingPage"},r.a.createElement(z.a,null)):r.a.createElement("div",{className:"yitFragment"},r.a.createElement("div",{className:"BackDrop",id:"BackDrop"},r.a.createElement("div",{className:"close",onClick:this.unmount},r.a.createElement(de.a,{fontSize:"large",style:{color:"red"}})),r.a.createElement("div",{className:"content",id:"BackDropContent"})),r.a.createElement("div",{className:"pagesNotifications",id:"pagesNotifications"},this.drawNotifications(this.state.notifications)),r.a.createElement("section",{className:"YitFragment ".concat(this.props.customClass),id:this.props.customId},this.props.children))}}]),a}(W),pe=a(447),fe=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={isSubmitted:!1,isSubmitting:!1,done:!1,partnersList:[],statsList:[{label:"active",id:0},{label:"Frozen",id:1}]},n.stationTypes=[{label:"active",value:0},{label:"inactive",value:1}],n.formRef=r.a.createRef(),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(p.a)(m.a.mark((function e(){var t,a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.MODELS._Partner.getAll(0,999);case 2:!1!==(t=e.sent).finalResult&&(a=t.result.rows,n=a.map((function(e){return{value:e.id,label:e.fullName}})),this.setState({partnersList:n}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.MODELS._Station.create(t);case 2:if(!(a=e.sent).finalResult){e.next=7;break}return e.abrupt("return",!0);case 7:return n=a.error.toString(),this.formRef.current.setState({errMsg:n}),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(me,{ref:this.fragment,customClass:"NewStationForm",customId:"NewStationForm",title:"Station Details",isLoading:!1,primaryInfoLoader:function(){e.loadPrimaryData().then()}},r.a.createElement(oe,{ref:this.formRef,handleSubmit:this.handleSubmit.bind(this)},r.a.createElement(J.a,{container:!0,spacing:2},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement("b",null,"New Station")),r.a.createElement(J.a,{item:!0,xs:6},r.a.createElement(pe.a,{fullWidth:!0,required:!0,name:"id",variant:"outlined",id:"outlined-required",label:"Public Id",defaultValue:""})),r.a.createElement(J.a,{item:!0,xs:6},r.a.createElement(K.a,{fullWidth:!0},r.a.createElement(le.a,{id:"demo-simple-select-label"},"Partner"),r.a.createElement(Z.a,{labelId:"demo-simple-select-label",id:"currentPartner",label:"Partner",name:"currentPartner",defaultValue:-1},r.a.createElement($.a,{value:-1,key:-10},"Select Partner"),this.state.partnersList.map((function(e){return r.a.createElement($.a,{value:e.value,key:e.value}," ",e.label)}))))),r.a.createElement(J.a,{item:!0,xs:6},r.a.createElement(K.a,{fullWidth:!0},r.a.createElement(le.a,{id:"demo-simple-select-label"},"Stat"),r.a.createElement(Z.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",name:"stat",label:"Stat",defaultValue:-1},r.a.createElement($.a,{value:-1,key:-100},"Select Stat"),this.state.statsList.map((function(e){return r.a.createElement($.a,{value:e.id,key:e.value}," ",e.label)}))))),r.a.createElement(J.a,{item:!0,xs:6},r.a.createElement(pe.a,{fullWidth:!0,required:!0,name:"price",variant:"outlined",type:"number",id:"outlined-required",label:"Price",defaultValue:""})))))}}]),a}(W),he=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={isLoading:!0,failedLoading:!1,notifications:new Map},n.pageId="YitPag"+a.id,n.backDropId="YitPageBackDrop"+a.id,n.backDropContentId="YitPageBackDropContent"+a.id,n.notificationsContainerId="notificationsContainer"+a.id,n.notId=0,a.id++,n}return Object(o.a)(a,[{key:"componentWillUnmount",value:function(){}},{key:"pushNotification",value:function(e,t,a){var n=this,i=this.notId;this.state.notifications.set(i,r.a.createElement(X.a,{id:i,severity:t,sx:{mb:2},action:r.a.createElement(G.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){n.state.notifications.delete(i),n.setState({notifications:n.state.notifications})}},r.a.createElement(Q.a,{fontSize:"inherit"}))},e)),this.notId++,this.setState({notifications:this.state.notifications}),void 0!==a&&setTimeout((function(){n.state.notifications.delete(i),n.setState({notifications:n.state.notifications})}),a)}},{key:"componentDidMount",value:function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"mountBackDrop",value:function(e){var t=this;document.getElementById(this.backDropId).addEventListener("click",(function(){s.a.unmountComponentAtNode(document.getElementById(t.backDropContentId)),document.getElementById(t.backDropId).style.display="none"})),document.getElementById(this.backDropContentId).addEventListener("click",(function(e){e.stopPropagation()})),document.getElementById(this.backDropId).style.display="flex",s.a.render(e,document.getElementById(this.backDropContentId))}},{key:"unmount",value:function(e){document.getElementById(this.backDropId).style.display="none"}},{key:"drawOperations",value:function(){if(void 0!==this.props.topOperations&&this.props.topOperations.length>0)return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"entriesContainer",id:"entriesContainer"},this.props.topOperations.map((function(e,t){return r.a.createElement("div",{key:t,className:"operationEntry",style:{marginLeft:10,display:"flex",alignItems:"center"},onClick:e.onClick},e.icon," ",e.text)}))),r.a.createElement(Y.a,{fontSize:"large",style:{cursor:"pointer"},onClick:function(){var e=document.getElementById("entriesContainer");"hidden"===e.style.visibility?e.style.visibility="visible":e.style.visibility="hidden"}}))}},{key:"drawNotifications",value:function(e){var t=[];return e.forEach((function(e,a){t.push(e)})),t}},{key:"render",value:function(){var e=this;return this.state.failedLoading?r.a.createElement("div",{className:"failedToLoadPage"},r.a.createElement("span",null,"Failed to load page primary data"),r.a.createElement("br",null),r.a.createElement(V.a,{style:{width:"10vw"},color:"primary",variant:"contained",startIcon:r.a.createElement(U.a,null),onClick:function(){try{e.props.reloadPrimaryInfo()}catch(t){}}},"retry")):this.state.isLoading?r.a.createElement("div",{className:"loadingPage"},r.a.createElement(z.a,null)):r.a.createElement("section",{className:"YitPage",id:this.pageId},r.a.createElement("div",{className:"YitPageBackDrop",id:this.backDropId},r.a.createElement("div",{className:"YitPageBackDropContent",id:this.backDropContentId})),r.a.createElement("div",{className:"YitPageNotificationsContainer",id:this.notificationsContainerId},this.drawNotifications(this.state.notifications)),r.a.createElement("div",{className:"YitPageMainPage ".concat(this.props.customClass),id:this.props.customId},r.a.createElement("div",{className:"pagesTitle"},this.props.title),r.a.createElement("div",{className:"pagesOperations"},this.drawOperations()),r.a.createElement("div",{className:"pagesContent ".concat(this.props.customContentClass),id:this.props.contentCustomId},this.props.children)))}}]),a}(W);he.id=0;var ve,be,ge=he,Ee=a(835),ye=a(858),ke=a(857),we=a(819),Oe=a(856),Se={scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,bezierCurve:!0,bezierCurveTension:.4,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,offsetGridLines:!1},xe=a(592).Line,je=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={failedLoading:!1,charData:{labels:n.weekDays().weekDays,datasets:[{label:"Rent Transactions",fillColor:"rgba(220,220,220,0.2)",strokeColor:"rgba(220,220,220,1)",pointColor:"rgba(220,220,220,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(220,220,220,1)",data:[5,12,16,22,18,50,10]},{label:"Return Transaction",fillColor:"rgba(151,187,205,0.2)",strokeColor:"rgba(151,187,205,1)",pointColor:"rgba(151,187,205,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(151,187,205,1)",data:[5,12,16,22,18,50,10]}]}},n.fragmentRef=r.a.createRef(),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(p.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadTransactionsData(0,0,100);case 2:return t=e.sent,e.next=5,this.loadTransactionsData(1,0,100);case 5:a=e.sent,this.state.charData.datasets[0].data=t,this.state.charData.datasets[1].data=a,this.setState({charData:this.state.charData}),this.fragmentRef.current.setState({isLoading:!1,failedLoading:this.state.failedLoading});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"weekDays",value:function(){for(var e=new Date,t=[],a=[],n=0;n<7;n++)e.setDate(e.getDate()-6),t.push(e.toLocaleDateString("en",{weekday:"long"})),a.push(e.getDay());return{weekDays:t,indexes:a}}},{key:"prepareData",value:function(){}},{key:"loadTransactionsData",value:function(){var e=Object(p.a)(m.a.mark((function e(t,a,n){var r,i,s,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.MODELS._Transaction.getAll(t,a,n);case 2:return r=e.sent,(i=new Date).setDate(i.getDay()-6),s=[0,0,0,0,0,0,0],r.finalResult&&(r.result.forEach((function(e){var t=new Date(e.createdAt);t>i&&(s[t.getDay()]=s[t.getDay()]+1)})),c=s.slice(),this.weekDays().indexes.forEach((function(e,t){s[e-1]=c[t]})),c=null),this.setState({failedLoading:!r.finalResult}),e.abrupt("return",s);case 9:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(me,{ref:this.fragmentRef},r.a.createElement(xe,{data:this.state.charData,options:Se,width:this.props.x,height:this.props.y})))}}]),a}(W),Ce=a(92),Pe=(a(603),a(529)),Ie=a(206),De=a(193),Ne=(Ie.a.div(ve||(ve=Object(Ce.a)(["\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  padding: 20px;\n  text-align:center;\n"]))),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onPlaceChanged=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.props,t=e.map,a=e.addplace,r=n.autoComplete.getPlace();r.geometry&&(r.geometry.viewport?t.fitBounds(r.geometry.viewport):(t.setCenter(r.geometry.location),t.setZoom(17)),a(r),n.searchInput.blur())},n.clearSearchBox=n.clearSearchBox.bind(Object(De.a)(n)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.map,a=e.mapApi,n={};this.autoComplete=new a.places.Autocomplete(this.searchInput,n),this.autoComplete.addListener("place_changed",this.onPlaceChanged),this.autoComplete.bindTo("bounds",t)}},{key:"componentWillUnmount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.mapApi;t.event.clearInstanceListeners(this.searchInput)}},{key:"clearSearchBox",value:function(){this.searchInput.value=""}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"YitLocationPickerAutoComplete"},r.a.createElement("input",{className:"search-input",ref:function(t){e.searchInput=t},type:"text",onFocus:this.clearSearchBox,placeholder:"Enter a location"}))}}]),a}(n.Component)),Le=Ie.a.div(be||(be=Object(Ce.a)(["\n    position: absolute;\n    width: 38px;\n    height: 37px;\n    background-image: url(https://icon-library.com/images/pin-icon-png/pin-icon-png-9.jpg);\n    background-size: contain;\n    background-repeat: no-repeat;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    -webkit-transform: translate(-50%,-50%);\n    -ms-transform: translate(-50%,-50%);\n    transform: translate(-50%,-50%);\n    cursor: grab;\n"]))),Re=function(e){var t=e.text,a=e.onClick;return r.a.createElement(Le,{alt:t,onClick:a})};Re.defaultProps={onClick:null};var Ae,Te=Re,Me=(Ie.a.main(Ae||(Ae=Object(Ce.a)(["\n  width: 100%;\n  height: 100%;\n"]))),n.Component,a(67)),Be=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={failedLoading:!1,isLoading:!1,settings:{},statistics:{},graphHeight:0,graphWidth:0},n.currentPage=r.a.createRef(),n}return Object(o.a)(a,[{key:"changeHolder",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.name,n=t.target.checked,"number"===t.target.type&&(n=parseInt(n)),e.next=5,this.MODELS._Setting.update(a,{dataValue:n});case 5:e.sent.finalResult?(this.state.settings[a]=n,this.setState({settings:this.state.settings})):this.currentPage.current.pushNotification("Could not update settings","error",2e3);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadSettings",value:function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.MODELS._Setting.getAll(t,a);case 2:(n=e.sent).finalResult&&(r={},n.result.forEach((function(e){r[e.name]=e.dataValue})),this.setState({settings:r})),this.setState({failedLoading:!n.finalResult});case 5:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"loadStatistics",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n,r,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Object(b.a)(t),e.prev=1,a.s();case 3:if((n=a.n()).done){e.next=12;break}return r=n.value,e.next=7,r.loader.count();case 7:(i=e.sent).finalResult&&(this.state.statistics[r.model]=i.result,this.setState({statistics:this.state.statistics})),this.setState({failedLoading:!i.finalResult});case 10:e.next=3;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),a.e(e.t0);case 17:return e.prev=17,a.f(),e.finish(17);case 20:case"end":return e.stop()}}),e,this,[[1,14,17,20]])})));return function(t){return e.apply(this,arguments)}}()},{key:"loadPrimaryData",value:function(){var e=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[{model:"clients",loader:this.MODELS._Client},{model:"stations",loader:this.MODELS._Station},{model:"partners",loader:this.MODELS._Partner},{model:"transactions",loader:this.MODELS._Transaction}],e.next=3,this.loadSettings(0,50);case 3:return e.next=5,this.loadStatistics(t);case 5:this.state.failedLoading?this.currentPage.current.setState({failedLoading:!0}):this.currentPage.current.setState({failedLoading:!1,isLoading:!1});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadTransactionsData",value:function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.MODELS._Transaction.getAll(0,0,100);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setDimensions",value:function(){var e=this,t=document.getElementById("transactionsContainer");if(null!==t){var a=t.offsetHeight,n=t.offsetWidth;this.setState({x:n-20,y:a-50})}window.onresize=function(){var t=document.getElementById("transactionsContainer");if(null!==t){var a=t.offsetHeight,n=t.offsetWidth;e.setState({x:n-20,y:a-50})}}}},{key:"componentDidMount",value:function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadPrimaryData();case 2:this.setDimensions();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(ge,{ref:this.currentPage,title:"Dash Board",customClass:"Home",customContentClass:"homeContent",topOperations:[],reloadPrimaryInfo:function(){e.loadPrimaryData().then()}},r.a.createElement("div",{className:"StatsContainer"},r.a.createElement("div",{className:"container"},r.a.createElement(g,{title:"Clients",number:this.state.statistics.clients,text:"+7 this month",icon:r.a.createElement(Me.Person,{style:{fontSize:50,color:"wheat"}})})),r.a.createElement("div",{className:"container"},r.a.createElement(g,{number:this.state.statistics.partners,text:"All",title:"Partners",icon:r.a.createElement(Me.People,{style:{fontSize:50,color:"rosybrown"}})})),r.a.createElement("div",{className:"container"},r.a.createElement(g,{title:"Stations",number:this.state.statistics.stations,icon:r.a.createElement(Me.Apps,{style:{fontSize:50,color:"black"}}),text:"Active Stations"})),r.a.createElement("div",{className:"container"},r.a.createElement(g,{title:"Transactions",number:this.state.statistics.transactions,icon:r.a.createElement(Me.LocalAtm,{style:{fontSize:50,color:"wheat"}}),text:"All"}))),r.a.createElement("div",{className:"transactionsContainer",id:"transactionsContainer"},r.a.createElement("b",null,"Rent / return transactions"),r.a.createElement(je,{x:this.state.x,y:this.state.y})),r.a.createElement("div",{className:"quickSettingsContainer"},r.a.createElement(Oe.a,null,r.a.createElement(Ee.a,null,r.a.createElement(ke.a,{id:"switch-list-label-wifi",primary:r.a.createElement("b",null,"Settings")})),r.a.createElement(Ee.a,null,r.a.createElement(ye.a,null,r.a.createElement(y.a,null)),r.a.createElement(ke.a,{id:"switch-list-label-wifi",primary:"Pratic Power"}),r.a.createElement(we.a,{name:"system",edge:"end",onChange:this.changeHolder.bind(this),checked:this.state.settings.system,inputProps:{"aria-labelledby":"switch-list-label-wifi"}})),r.a.createElement(Ee.a,null,r.a.createElement(ye.a,null,r.a.createElement(Me.People,null)),r.a.createElement(ke.a,{id:"switch-list-label-wifi",primary:"Client Signup"}),r.a.createElement(we.a,{edge:"end",name:"clientSignUp",onChange:this.changeHolder.bind(this),checked:this.state.settings.clientSignUp,inputProps:{"aria-labelledby":"switch-list-label-wifi"}})),r.a.createElement(Ee.a,null,r.a.createElement(ye.a,null,r.a.createElement(Me.People,null)),r.a.createElement(ke.a,{id:"switch-list-label-wifi",primary:"Client Login"}),r.a.createElement(we.a,{edge:"end",name:"clientLogin",onChange:this.changeHolder.bind(this),checked:this.state.settings.clientLogin,inputProps:{"aria-labelledby":"switch-list-label-wifi"}})),r.a.createElement(Ee.a,null,r.a.createElement(ye.a,null,r.a.createElement(Me.Apps,null)),r.a.createElement(ke.a,{id:"switch-list-label-bluetooth",primary:"Power Banks Rent"}),r.a.createElement(we.a,{name:"rent",edge:"end",onChange:this.changeHolder.bind(this),checked:this.state.settings.rent,inputProps:{"aria-labelledby":"switch-list-label-bluetooth"}})),r.a.createElement(Ee.a,null,r.a.createElement(ye.a,null,r.a.createElement(Me.QrCode2,null)),r.a.createElement(ke.a,{id:"switch-list-label-bluetooth",primary:"Card Print"}),r.a.createElement(we.a,{name:"cardPrint",edge:"end",onChange:this.changeHolder.bind(this),checked:this.state.settings.print})),r.a.createElement(Ee.a,null,r.a.createElement(ye.a,null,r.a.createElement(Me.QrCodeScanner,null)),r.a.createElement(ke.a,{id:"switch-list-label-bluetooth",primary:"Card recharge"}),r.a.createElement(we.a,{edge:"end",name:"recharge",onChange:this.changeHolder.bind(this),checked:this.state.settings.recharge})))))}}]),a}(W),Fe=(a(604),a(174),a(605),a(181)),_e=a.n(Fe),We=a(449),ze=a(451),Ve=a(454),He=a(456),Ue=a(453),Ge=a(457),qe=a(463),Ye=a(458),Xe=a(459),Qe=a(460),Je=a(452),Ke=a(464),Ze=a(450),$e=a(462),et=a(465),tt={Add:Object(n.forwardRef)((function(e,t){return r.a.createElement(We.a,Object.assign({},e,{ref:t}))})),Check:Object(n.forwardRef)((function(e,t){return r.a.createElement(ze.a,Object.assign({},e,{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return r.a.createElement(Ve.a,Object.assign({},e,{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return r.a.createElement(He.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return r.a.createElement(Ue.a,Object.assign({},e,{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return r.a.createElement(Ge.a,Object.assign({},e,{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return r.a.createElement(qe.a,Object.assign({},e,{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return r.a.createElement(Ye.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(Xe.a,Object.assign({},e,{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(Qe.a,Object.assign({},e,{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(Ue.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(Je.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return r.a.createElement(Ve.a,Object.assign({},e,{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return r.a.createElement(Ke.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return r.a.createElement(Ze.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return r.a.createElement($e.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return r.a.createElement(et.a,Object.assign({},e,{ref:t}))})),Retry:Object(n.forwardRef)((function(e,t){return r.a.createElement("div",null)}))},at=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;Object(c.a)(this,a),(n=t.call(this,e)).state={page:0,totalCount:0,searchEntry:void 0!==n.props.searchEntry?n.props.searchEntry:"id",options:{search:!0,actionsColumnIndex:-1,exportButton:!0,paginationPosition:"top",pageSizeOptions:[5,10,20,50,0]}};new URLSearchParams(window.location.search);return n.tableRef=r.a.createRef(),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(p.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==this.props.options){for(a in t=this.state.options,this.props.options)t[a]=this.props.options[a];this.setState({options:t})}case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadTotal",value:function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"loadData",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n,r,i,s,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.page*t.pageSize,n=t.pageSize,""!==t.search){e.next=7;break}return e.next=4,this.props.dataModel.getAll(a,n);case 4:r=e.sent,e.next=10;break;case 7:return e.next=9,this.props.dataModel.searchBy(this.state.searchEntry,t.search);case 9:r=e.sent;case 10:if(!r.finalResult){e.next=16;break}return i={data:r.result.rows,total:r.result.count},t.filters.length>0&&(s=t.filters,c=[],i.data.forEach((function(e){var t,a=!0,n=Object(b.a)(s);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.column.field,o=r.value;e[i]!=o&&(a=!1)}}catch(l){n.e(l)}finally{n.f()}a&&c.push(e)})),console.log(c),i.data=c),e.abrupt("return",i);case 16:return e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this;return r.a.createElement(_e.a,Object.assign({},this.props,{style:{minHeight:"100%",fontFamily:"Poppins"},tableRef:this.tableRef,icons:tt,title:"",components:{Container:function(e){return r.a.createElement("div",{style:{overflow:"auto",position:"relative",background:"#FFFFFF",width:"100%",height:"100%"}},e.children)}},data:function(t){return new Promise((function(a,n){e.loadData(t).then((function(e){0==e?n():a({data:e.data,page:t.page,totalCount:e.total})}))}))},options:this.state.options,localization:{pagination:{labelDisplayedRows:"{from}-{to} of {count}"},toolbar:{nRowsSelected:"{0} row(s) selected"},header:{actions:"Actions"},body:{emptyDataSourceMessage:"No records to display",filterRow:{filterTooltip:"Filter"}},error:r.a.createElement("div",{className:"errorContainer"},r.a.createElement("span",null,"Data could not be Loaded"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(V.a,{style:{backgroundColor:"red",opacity:20},color:"primary",variant:"contained",onClick:function(){e.tableRef.current.onQueryChange({})}},"Retry"))}}))}}]),a}(r.a.Component),nt=a(846),rt=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleClose=function(e,t){},n.state={rawData:[],columns:[{title:"Id",field:"id"},{title:"Name",field:"fullName"},{title:"E-mail",field:"mail"},{title:"Phone",field:"phone"},{title:"Joint At",field:"createdAt",render:function(e){return e.createdAt.substr(0,10)},editable:!1},{title:"Stat",field:"stat",lookup:{0:"New",1:"Active",2:"Frozen"},render:function(e){var t,a;switch(e.stat){case 0:t="New",a="green";break;case 1:t="Active",a="darkblue";break;case 2:t="Frozen",a="red";break;default:t="Unknown",a="red"}return r.a.createElement(nt.a,{label:t,style:{width:120,backgroundColor:a,color:"white",fontWeight:"bold"}})}},{title:"Rent",field:"type",lookup:{0:"available",1:"Frozen"},render:function(e){var t,a;switch(e.type){case 0:t="available",a="green";break;case 1:t="Frozen",a="red";break;default:t="Unknown",a="red"}return r.a.createElement(nt.a,{label:t,style:{width:120,backgroundColor:a,color:"white",fontWeight:"bold"}})}}],data:[],selectedRowId:null,open:!1},n.dataTable=r.a.createRef(),n}return Object(o.a)(a,[{key:"componentWillMount",value:function(){var e=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.MODELS._Client.getAll(0,20);case 3:null!=(t=e.sent)&&(this.setState({data:t}),this.currentPage.current.setState({isLoading:!1})),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"changeStat",value:function(){var e=Object(p.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.MODELS._Client.update(t.id,{stat:a});case 3:e.sent&&(ie("pagesNotifications","Stat Changed successfully","success"),this.dataTable.current.tableRef.current.onQueryChange({})),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"deleteEntry",value:function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.MODELS._Client.delete(t.id);case 3:e.sent&&ie("pagesNotifications","Client Deleted","success"),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateClientInfo",value:function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.MODELS._Client.update(t.id,t);case 3:e.sent.finalResult?(ie("pagesNotifications","Client Updated","success"),this.dataTable.current.tableRef.current.onQueryChange()):ie("pagesNotifications","Could update Client","error"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ie("pagesNotifications","Could not change client info","error");case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(ge,{customClass:"ClientsPage",customId:"ClientsPage",title:"Clients",ref:this.currentPage},r.a.createElement(at,{ref:this.dataTable,columns:this.state.columns,dataModel:this.MODELS._Client,searchEntry:"fullName",options:{exportButton:!0},editable:{onRowUpdate:function(t,a){return e.updateClientInfo(t)},onRowDelete:function(t){return new Promise((function(a,n){e.deleteEntry(t).then((function(e){return a()}))}))}}}))}}]),a}(W),it=(a(662),a(284)),st=a.n(it),ct=(a(706),a(82)),ot=a(183),lt=a.n(ot),ut=a(236),dt=a.n(ut),mt=a(11),pt=a(244),ft=a.n(pt),ht=a(361),vt=a.n(ht);ft.a.setApiKey("AIzaSyB3zO_aU97QjkN-p1MUofYobc2QNCf3y2M"),ft.a.enableDebug();r.a.Component;var bt=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onChange=function(e){n.setState(Object(mt.a)({},e.target.name,e.target.value))},n.onMarkerDragEnd=function(e){var t=e.latLng.lat(),a=e.latLng.lng();n.setState({markerPosition:{lat:t,lng:a},mapPosition:{lat:t,lng:a}}),void 0!==n.props.onDragEnd&&"function"==typeof n.props.onDragEnd&&n.props.onDragEnd(e)},a.displayName="YitLocationPicker",n.state={zoom:15,height:200,mapPosition:void 0===n.props.center?{lat:-3.745,lng:-38.523}:n.props.center,markerPosition:void 0===n.props.center?{lat:-3.745,lng:-38.523}:n.props.center},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return r.a.createElement(ct.a,{mapContainerStyle:{height:"40vh",width:"100%"},zoom:this.state.zoom,center:{lat:this.state.mapPosition.lat,lng:this.state.mapPosition.lng}},r.a.createElement(ct.d,{google:this.props.google,name:"Dolores park",draggable:!0,onDragEnd:function(t){e.onMarkerDragEnd(t)},position:{lat:this.state.markerPosition.lat,lng:this.state.markerPosition.lng}}),r.a.createElement(ct.b,{onClose:this.onInfoWindowClose,position:{lat:this.state.markerPosition.lat+.0018,lng:this.state.markerPosition.lng}},r.a.createElement("div",null,r.a.createElement("span",{style:{padding:0,margin:0}},"Drag me to choose"))),r.a.createElement(ct.d,null))}}]),a}(r.a.Component),gt=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={isSubmitted:!1,isSubmitting:!1,done:!1,partnersList:[],markers:[]},n.stationTypes=[{label:"active",value:0},{label:"inactive",value:1}],n.formRef=r.a.createRef(),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(p.a)(m.a.mark((function e(){var t,a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.MODELS._Partner.getAll(0,999);case 2:!1!==(t=e.sent).finalResult&&(a=t.result.rows,n=a.map((function(e){return{value:e.id,label:e.fullName}})),this.setState({partnersList:n}),this.generatePassword(),this.setState({suggestedPassword:"password"}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"generatePassword",value:function(){for(var e="0123456789abcdefghijklmnopqrstuvwxyz!@#$%^&*()ABCDEFGHIJKLMNOPQRSTUVWXYZ",t="",a=0;a<=8;a++){var n=Math.floor(Math.random()*e.length);t+=e.substring(n,n+1)}return t}},{key:"handleSubmit",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.MODELS._Partner.create(t);case 2:if(a=e.sent,console.log(a),!a.finalResult){e.next=8;break}return e.abrupt("return",!0);case 8:return this.formRef.current.setState({errMsg:a.error}),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"NewPartnerForm"},r.a.createElement(oe,{ref:this.formRef,handleSubmit:this.handleSubmit.bind(this)},r.a.createElement(J.a,{container:!0,spacing:2,xs:12},r.a.createElement(J.a,{item:!0,xs:6},r.a.createElement(pe.a,{fullWidth:!0,required:!0,variant:"outlined",id:"outlined-required",name:"fullName",label:"Full Name"})),r.a.createElement(J.a,{item:!0,xs:3},r.a.createElement(K.a,{fullWidth:!0},r.a.createElement(le.a,null,"Rent Policy"),r.a.createElement(Z.a,{id:"demo-simple-select",name:"type",label:"Rent Policy",defaultValue:-1},r.a.createElement($.a,{value:-1},"Select Policy"),lt.a.map((function(e){return r.a.createElement($.a,{value:e.id}," ",e.label)}))))),r.a.createElement(J.a,{item:!0,xs:3},r.a.createElement(K.a,{fullWidth:!0},r.a.createElement(le.a,null,"Stat"),r.a.createElement(Z.a,{id:"demo-simple-select",name:"stat",label:"State",defaultValue:-1},r.a.createElement($.a,{value:-1},"Select Stat"),dt.a.map((function(e){return r.a.createElement($.a,{value:e.id}," ",e.label)}))))),r.a.createElement(J.a,{item:!0,xs:5},r.a.createElement(pe.a,{fullWidth:!0,required:!0,variant:"outlined",name:"phone",id:"outlined-required",label:"Phone",placeholder:"0X XX XX XX XX"})),r.a.createElement(J.a,{item:!0,xs:4},r.a.createElement(pe.a,{fullWidth:!0,required:!0,variant:"outlined",name:"mail",id:"outlined-required",label:"Address mail",placeholder:"xxx@xxx.xxx"})),r.a.createElement(J.a,{item:!0,xs:3},r.a.createElement(pe.a,{fullWidth:!0,required:!0,variant:"outlined",name:"password",id:"outlined-required",defaultValue:this.generatePassword(),label:"Password",placeholder:""})),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(ct.c,{googleMapsApiKey:k.MAP_API_KEY},r.a.createElement(bt,null))))))}}]),a}(W),Et=(a(711),a(849)),yt=a(840),kt=a(861),wt=a(833),Ot=a(848),St=(r.a.Component,function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).isStepOptional=function(e){return n.props.steps[e].optional},n.isStepSkipped=function(e){return!1},n.handleNext=function(){n.currentStep.current.isCompleted()&&(n.sharedData[n.state.activeStep]=n.currentStep.current.sharedData,n.setActiveStep(n.state.activeStep),alert(JSON.stringify(n.sharedData)))},n.handleBack=function(){n.setState({activeStep:n.state.activeStep-1})},n.setActiveStep=function(e){n.setState({activeStep:e+1})},n.handleSkip=function(){if(!n.isStepOptional(n.state.activeStep))throw new Error("You can't skip a step that isn't optional.");n.setActiveStep(n.state.activeStep)},n.handleReset=function(){n.setState({activeStep:0})},n.setContent=function(e){if(n.state.activeStep===n.props.steps.length){var t={ImagesList:n.sharedData[1]};return r.a.cloneElement(n.props.onFinishView,t)}try{var a={ref:n.currentStep,a:5};return r.a.cloneElement(n.props.children[e],a)}catch(i){}},n.sharedData=[],n.state={activeStep:0},n.currentStep=r.a.createRef(),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"YitStepper"},r.a.createElement("div",{className:"header"},r.a.createElement(yt.a,{activeStep:this.state.activeStep},this.props.steps.map((function(t,a){var n={},i={};return e.isStepOptional(a)&&(i.optional=r.a.createElement(Ot.a,{variant:"caption"},"Optional")),e.isStepSkipped(a)&&(n.completed=!1),r.a.createElement(kt.a,Object.assign({key:t},n),r.a.createElement(wt.a,i,t.label))})))),r.a.createElement("div",{className:"content"},this.setContent(this.state.activeStep)),r.a.createElement("div",{className:"operations"},this.state.activeStep===this.props.steps.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ot.a,{sx:{mt:2,mb:1}},"All steps completed - you're finished"),r.a.createElement(Et.a,{sx:{display:"flex",flexDirection:"row",pt:2}},r.a.createElement(Et.a,{sx:{flex:"1 1 auto"}}),r.a.createElement(ee.a,{onClick:this.handleReset},"Reset"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(Et.a,{sx:{display:"flex",flexDirection:"row",pt:2}},r.a.createElement(ee.a,{color:"inherit",disabled:0===this.state.activeStep,onClick:this.handleBack,sx:{mr:1}},"Back"),r.a.createElement(Et.a,{sx:{flex:"1 1 auto"}}),this.isStepOptional(this.state.activeStep)&&r.a.createElement(ee.a,{color:"inherit",onClick:this.handleSkip,sx:{mr:1}},"Skip"),r.a.createElement(ee.a,{onClick:this.handleNext},this.state.activeStep===this.props.steps.length-1?"Finish":"Next")))))}}]),a}(W)),xt=(a(712),a(713),a(237)),jt=a.n(xt),Ct=function(e){var t=e.url;return r.a.createElement("div",{style:{width:200,height:200,margin:"10px",borderRadius:20}},r.a.createElement("img",{src:t,style:{width:"100%",height:"100%",borderRadius:20}}))},Pt=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).sharedData={},n.state={currentImage:"",isSubmitted:!1,isSubmitting:!1,done:!1,partnersList:[],markers:[],ImagesList:[]},n.stationTypes=[{label:"active",value:0},{label:"inactive",value:1}],n.formRef=r.a.createRef(),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"isCompleted",value:function(){return void 0!==this.sharedData&&this.sharedData!=={}||(alert("no images selected"),!1)}},{key:"onImageSelect",value:function(e){console.log(e.target.files);for(var t=0;t<e.target.files.length;t++){var a=e.target.files[t],n=URL.createObjectURL(a);this.state.ImagesList.push(n)}this.setState({ImagesList:this.state.ImagesList}),this.sharedData=this.state.ImagesList}},{key:"handleSubmit",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.generatePassword(),t.password=a,e.next=4,this.MODELS._Partner.create(t);case 4:if(!(n=e.sent).finalResult){e.next=9;break}return e.abrupt("return",!0);case 9:return this.formRef.current.setState({errMsg:n.error}),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"renderContent",value:function(e){return e.map((function(e){return r.a.createElement(Ct,{url:e})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"YitFilePicker"},this.renderContent(this.state.ImagesList),r.a.createElement("div",{className:"addImages"},r.a.createElement(G.a,{"aria-label":"delete",size:"large",onClick:function(){document.getElementById("fileInput").click()}},r.a.createElement(jt.a,{fontSize:"inherit"}),r.a.createElement("input",{id:"fileInput",onChange:function(t){return e.onImageSelect(t)},type:"file",hidden:!0,multiple:!0}))))}}]),a}(r.a.Component),It=(a(714),function(e){var t=e.url;return r.a.createElement("div",{style:{width:200,height:200,margin:"10px",borderRadius:20}},r.a.createElement("img",{src:t,style:{width:"100%",height:"100%",borderRadius:20}}))}),Dt=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).sharedData={},n.state={currentImage:"",isSubmitted:!1,isSubmitting:!1,done:!1,partnersList:[],markers:[],ImagesList:void 0!==n.props.ImagesList?n.props.ImagesList:[]},n.stationTypes=[{label:"active",value:0},{label:"inactive",value:1}],n.formRef=r.a.createRef(),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"isCompleted",value:function(){return void 0!==this.sharedData&&this.sharedData!=={}||(alert("no images selected"),!1)}},{key:"onImageSelect",value:function(e){console.log(e.target.files);for(var t=0;t<e.target.files.length;t++){var a=e.target.files[t],n=URL.createObjectURL(a);this.state.ImagesList.push(n)}this.setState({ImagesList:this.state.ImagesList}),this.sharedData=this.state.ImagesList}},{key:"handleSubmit",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.generatePassword(),t.password=a,e.next=4,this.MODELS._Partner.create(t);case 4:if(!(n=e.sent).finalResult){e.next=9;break}return e.abrupt("return",!0);case 9:return this.formRef.current.setState({errMsg:n.error}),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"renderContent",value:function(e){return e.map((function(e){return r.a.createElement(It,{url:e})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"YitFilePicker"},this.renderContent(this.state.ImagesList))}}]),a}(r.a.Component);a(67);r.a.Component;var Nt=a(67);var Lt=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleClose=function(e,t){},n.state={rawData:[],columns:[{title:"Name",field:"fullName"},{title:"E-mail",field:"mail"},{title:"Phone",field:"phone"},{title:"Stat",field:"stat",lookup:{0:"New",1:"Active",2:"Trusted",11:"Frozen"},render:function(e){var t,a;switch(e.stat){case 0:t="New",a="grey";break;case 1:t="Active",a="darkblue";break;case 2:t="Trusted",a="green";break;case 11:t="Frozen",a="red";break;default:t="Unknown",a="red"}return r.a.createElement(nt.a,{label:t,style:{width:120,backgroundColor:a,color:"white",fontWeight:"bold"}})}}],data:[],selectedRowId:null,open:!1},n.dataTable=r.a.createRef(),n}return Object(o.a)(a,[{key:"loadPartners",value:function(){var e=Object(p.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.MODELS._Partner.getAll(0,20);case 2:(t=e.sent).finalResult?(a=t.result,this.setState({failedLoading:!1,data:a})):this.setState({failedLoading:!0});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadPrimaryData",value:function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadPartners();case 2:this.state.failedLoading?this.currentPage.current.setState({failedLoading:!0}):this.currentPage.current.setState({failedLoading:!1,isLoading:!1});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadPrimaryData();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"updatePartnerInfo",value:function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.MODELS._Partner.update(t.id,t);case 3:e.sent.finalResult?(ie("pagesNotifications","Partner Updated","success"),this.dataTable.current.tableRef.current.onQueryChange()):ie("pagesNotifications","Could update Client","error"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ie("pagesNotifications","Could not change client info","error");case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"changeStat",value:function(){var e=Object(p.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.MODELS._Partner.update(t.id,{stat:a});case 3:e.sent&&(ie("pagesNotifications","Stat Changed successfully","success"),this.dataTable.current.tableRef.current.onQueryChange()),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"deleteEntry",value:function(){var e=Object(p.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.MODELS._Partner.delete(t.id);case 3:e.sent?(ie("pagesNotifications1","Partner Deleted","success"),this.dataTable.current.tableRef.current.onQueryChange({})):ie("pagesNotifications1","Could not delete partner","error"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ie("pagesNotifications1","Hard error, contact development team","error");case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(ge,{ref:this.currentPage,customClass:"ClientsPage",customId:"ClientsPage",title:"Partners",reloadPrimaryInfo:Object(p.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadPrimaryData();case 2:case"end":return t.stop()}}),t)}))),topOperations:[{text:"New Partner",icon:r.a.createElement(Nt.Add,null),onClick:function(){e.currentPage.current.mountBackDrop(r.a.createElement(gt,null))}}]},r.a.createElement(at,{ref:this.dataTable,columns:this.state.columns,actions:[],onRowClick:function(t,a){t.target.ondblclick=function(){e.props.history.push("/Dashboard/PartnerDetails/"+a.id,{state:{data:e.state.rawData[a.rowIndex]}})}},dataModel:this.MODELS._Partner,searchEntry:"fullName",editable:{onRowUpdate:function(t,a){return e.updatePartnerInfo(t)},onRowDelete:function(t){return new Promise((function(a,n){e.deleteEntry(t).then((function(e){return a()}))}))}}}))}}]),a}(W),Rt=(a(715),a(37)),At=(a(716),a(717),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={tabsWidgetId:"TabsWidget"+a.id,tabContentId:"tabContent"+a.id,tabButtonId:"tabButton"+a.id,currentIndex:0},a.id++,n}return Object(o.a)(a,[{key:"changeSelected",value:function(e){for(var t=document.getElementsByClassName(this.state.tabButtonId),a=0;a<t.length;a++)t[a].id==e?(t[a].style.color="darkblue",t[a].style.textDecoration="underline"):(t[a].style.color="grey",t[a].style.textDecoration="")}},{key:"generateTabs",value:function(){var e=this;return this.props.tabsList.map((function(t,a){return r.a.createElement("div",{className:"tabTitle"},r.a.createElement("div",{style:{color:"green"},id:e.state.tabButtonId+a,fullWidth:!0,className:"TabsWidgetTab "+e.state.tabButtonId,onClick:Object(p.a)(m.a.mark((function n(){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.setState({currentIndex:a}),void 0!=t.clickHandler&&t.clickHandler();case 2:case"end":return n.stop()}}),n)})))},t.title))}))}},{key:"setContent",value:function(e){return this.changeSelected(this.state.tabButtonId+e),void 0===this.props.children.length?this.props.children:this.props.children[e]}},{key:"componentDidMount",value:function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"TabsWidget",id:this.state.tabsWidgetId},r.a.createElement("div",{className:"tabsHeader"},this.generateTabs()),r.a.createElement("div",{className:"tabContent",id:this.state.tabContentId},this.setContent(this.state.currentIndex))))}}]),a}(r.a.Component));At.id=0;var Tt=At,Mt=(a(718),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={active:n.props.active},n.myRef=r.a.createRef(),n}return Object(o.a)(a,[{key:"setActive",value:function(e){this.setState({active:e})}},{key:"render",value:function(){return this.state.active?r.a.createElement("div",{className:"active "+this.props.className,id:this.props.id,ref:this.myRef},this.props.children):r.a.createElement("div",{className:"active "+this.props.className,id:this.props.id,ref:this.myRef},this.props.children,r.a.createElement("div",{className:"anActive"},this.props.anActiveContent))}}]),a}(r.a.Component)),Bt=(a(67),function(e){var t=e.PowerBank,a=e.clickHandler,n=e.id;var i=r.a.useState(!0),s=Object(Rt.a)(i,2),c=s[0],o=s[1];return r.a.createElement("div",{className:"PowerBankView",id:n,style:{width:200}},r.a.createElement("b",null,"ID: "),t.powerBankId,r.a.createElement("br",null),r.a.createElement("b",null,"Power Level:"),t.powerLevel,r.a.createElement("br",null),function(e){return e?r.a.createElement(ee.a,{fullWidth:!0,startIcon:r.a.createElement(ae.a,null),variant:"contained",color:"primary",onClick:function(){a(o)}},"Eject"):r.a.createElement("div",null,"Loading")}(c))}),Ft=function(e){var t=e.APN,a=e.id;return void 0!=t?r.a.createElement("div",{className:"PowerBankView",id:a},r.a.createElement(J.a,{container:!0,spacing:2,xs:8,style:{width:"100%"}},r.a.createElement(J.a,{item:!0,xs:6},r.a.createElement(pe.a,{fullWidth:!0,id:"outlined-error-helper-text",label:"MCCMNC",defaultValue:t.MCCMNC,size:"small",InputProps:{readOnly:!0}})),r.a.createElement(J.a,{item:!0,xs:6},r.a.createElement(pe.a,{fullWidth:!0,id:"outlined-error-helper-text",label:"Name",defaultValue:t.APN,size:"small",InputProps:{readOnly:!0}})),r.a.createElement(J.a,{item:!0,xs:12}),r.a.createElement(J.a,{item:!0,xs:6},r.a.createElement(pe.a,{fullWidth:!0,id:"outlined-error-helper-text",label:"User Name",defaultValue:t.APN,size:"small",InputProps:{readOnly:!0}})),r.a.createElement(J.a,{item:!0,xs:6},r.a.createElement(pe.a,{fullWidth:!0,id:"outlined-error-helper-text",label:"Password",defaultValue:t.APN,size:"small",InputProps:{readOnly:!0}})))):r.a.createElement("div",null,"APN information not loaded yet")},_t=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={isLoading:!0,failedLoading:!1,currentStation:{Partner:{}},currentStationInfo:{},currentTab:"one",stationAPNs:[]},n.loadPrimaryData().then((function(e){})),n}return Object(o.a)(a,[{key:"loadPrimaryData",value:function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadStationInfo(this.props.id);case 2:if(!e.sent){e.next=10;break}return e.next=6,this.loadPowerBanksInfo(this.state.currentStation.id);case 6:return e.next=8,this.loadAPN(this.state.currentStation.id,0);case 8:e.next=10;break;case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.state.failedLoading?this.currentPage.current.setState({failedLoading:!0}):this.currentPage.current.setState({isLoading:!1});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadStationInfo",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.MODELS._Station.getOneByPublicId(t);case 2:if(!0!==(a=e.sent).finalResult){e.next=9;break}return n=a.result,this.setState({currentStation:n}),e.abrupt("return",!0);case 9:return this.setState({failedLoading:!0}),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadPowerBanksInfo",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0==t){e.next=5;break}return e.next=3,this.MODELS._Station.getOneRealTime(t);case 3:!1!==(a=e.sent).finalResult?this.setState({currentStationInfo:a.result}):ie("pagesNotifications","Could not Load Station primary  Data","error");case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadAPN",value:function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0==t){e.next=5;break}return e.next=3,this.MODELS._Station.queryAPNNs(t,a);case 3:!1!==(n=e.sent)?((r=this.state.stationAPNs)[a]=n,this.setState({stationAPNs:r})):ie("pagesNotifications","Could not Load APN info","error");case 5:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"drawPowerBanks",value:function(e){var t=this;return console.log(e),void 0!=e?e.length>0?e.map((function(e,a){return r.a.createElement("div",{className:"infoEntry"},r.a.createElement(Bt,{id:"PowerBank"+a,PowerBank:e,clickHandler:function(){var e=Object(p.a)(m.a.mark((function e(n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!1),e.next=3,t.MODELS._Station.rentPowerBank(t.state.currentStation.id);case 3:e.sent?(ie("pagesNotifications","Power Bank ejected","success"),document.getElementById("PowerBank"+a).style.display="none"):(ie("pagesNotifications","Could not rent the Power Bank","error"),n(!0));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}))})):r.a.createElement("div",null,"No Power Banks on the station"):r.a.createElement("div",null,"Fetching power banks data")}},{key:"drawAPN",value:function(){this.MODELS.station.queryAPNNs(this.state.currentStation.id,"00").then((function(e){if(0!=e)return r.a.createElement(Ft,{APN:e});ie("pagesNotifications","Could not load APN info","error","standard",null)}))}},{key:"render",value:function(){var e=this;return r.a.createElement(me,{ref:this.currentPage,customClass:"StationDetailsFragment",customId:"StationDetailsFragment",title:"Station Details"},r.a.createElement("div",{className:"globalInformationHolder"},r.a.createElement("div",{className:"infoEntry"},r.a.createElement("b",null,"System Id:")," ",this.state.currentStation.systemId),r.a.createElement("div",{className:"infoEntry"},r.a.createElement("b",null,"Public Id:"),this.state.currentStation.id),r.a.createElement("div",{className:"infoEntry"},r.a.createElement("b",null,"Total Power Banks:"),"1"),r.a.createElement("div",{className:"infoEntry"},r.a.createElement("b",null,"Partner:"),this.state.currentStation.Partner.fullName)),r.a.createElement(Mt,{ref:this.myRef,className:"informationHolder",active:!0,anActiveContent:r.a.createElement(r.a.Fragment,null,r.a.createElement("b",null,"Station offline"),r.a.createElement(ee.a,{variant:"contained",color:"primary",onClick:function(){e.myRef.current.setActive(!0),e.loadStationInfo(e.props.id).then(Object(p.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadAPN(e.state.currentStation.id,0);case 2:case"end":return t.stop()}}),t)}))))}},"Try Again"))},r.a.createElement(Tt,{tabsList:[{title:"Power Banks"},{title:"Access point names"},{title:"Latest Transactions"}]},r.a.createElement("div",{id:"powerBanksHolder"},this.drawPowerBanks(this.state.currentStationInfo.powerBanksList)),r.a.createElement("div",{id:"APPNSHolder"},r.a.createElement(Tt,{tabsList:[{title:"First"},{title:"Second"},{title:"Third"},{title:"Forth"},{title:"Fifth"}]},r.a.createElement("div",{id:"firstHolder"},r.a.createElement(Ft,{APN:this.state.stationAPNs[0]})),r.a.createElement("div",{id:"secondHolder"},r.a.createElement(Ft,{APN:this.state.stationAPNs[1]})),r.a.createElement("div",{id:"thirdHolder"},r.a.createElement(Ft,{APN:this.state.stationAPNs[2]})),r.a.createElement("div",{id:"forthHolder"},r.a.createElement(Ft,{APN:this.state.stationAPNs[3]})),r.a.createElement("div",{id:"fifthHolder"},r.a.createElement(Ft,{APN:this.state.stationAPNs[4]})))))))}}]),a}(W);a(719);var Wt=function(){return r.a.createElement("div",{className:"success-animation"},r.a.createElement("svg",{className:"checkmark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52"},r.a.createElement("circle",{className:"checkmark__circle",cx:"26",cy:"26",r:"25",fill:"none"}),r.a.createElement("path",{className:"checkmark__check",fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"})))},zt=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={isSubmitted:!1,isSubmitting:!1,done:!1,newInfo:{}},n.submitButton=r.a.createRef(),n}return Object(o.a)(a,[{key:"changeHolder",value:function(e){var t=e.target.name,a=e.target.value;"number"===e.target.type&&(a=parseInt(a)),this.state.newInfo[t]=a}},{key:"drawResult",value:function(){this.props.view.pushNotification(this.props.errorMsg,"error",2e3)}},{key:"handleSubmit",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var a=this;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),this.submitButton.current.setState({isSubmitting:!0}),this.setState({isSubmitting:!0}),e.next=5,this.props.handleSubmit(this.state.newInfo);case 5:if(e.t0=e.sent,!0!==e.t0){e.next=11;break}this.setState({isSubmitted:!0}),setTimeout((function(){a.setState({isSubmitted:!1,isSubmitting:!1})}),2e3),e.next=13;break;case 11:this.drawResult(),this.submitButton.current.setState({isSubmitting:!1});case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"recursiveCloneChildren",value:function(e){var t=this;return r.a.Children.map(e,(function(e){if(!r.a.isValidElement(e))return e;var a={onChange:t.changeHolder.bind(t)};return a.children=t.recursiveCloneChildren(e.props.children),r.a.cloneElement(e,a)}))}},{key:"componentDidMount",value:function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.isSubmitted?r.a.createElement("div",{className:"YitTcpForm",id:"YitTcpForm"},r.a.createElement(Wt,null)):r.a.createElement("form",{onSubmit:this.handleSubmit.bind(this),id:"myForm"},r.a.createElement(J.a,{container:!0,spacing:2,xs:12},r.a.createElement(J.a,{container:!0,item:!0,xs:10,spacing:2},this.recursiveCloneChildren(this.props.children)),r.a.createElement(J.a,{item:!0,xs:2},r.a.createElement(se,{ref:this.submitButton}))))}}]),a}(W),Vt=a(466),Ht=a(467),Ut=a(837),Gt=(a(67),function(e){var t=e.APN,a=e.id;return void 0==t&&(t={}),r.a.createElement("div",{className:"PowerBankView",id:a},r.a.createElement(oe,null,r.a.createElement(J.a,{container:!0,spacing:2,xs:12,style:{width:"100%"}},r.a.createElement(J.a,{item:!0,xs:6},r.a.createElement(pe.a,{fullWidth:!0,id:"outlined-error-helper-text",label:"MCCMNC",defaultValue:t.MCCMNC,size:"small",InputProps:{readOnly:!0}})),r.a.createElement(J.a,{item:!0,xs:6},r.a.createElement(pe.a,{fullWidth:!0,id:"outlined-error-helper-text",label:"Name",defaultValue:t.APN,size:"small",InputProps:{readOnly:!0}})),r.a.createElement(J.a,{item:!0,xs:12}),r.a.createElement(J.a,{item:!0,xs:6},r.a.createElement(pe.a,{fullWidth:!0,id:"outlined-error-helper-text",label:"User Name",defaultValue:t.APN,size:"small",InputProps:{readOnly:!0}})),r.a.createElement(J.a,{item:!0,xs:6},r.a.createElement(pe.a,{fullWidth:!0,id:"outlined-error-helper-text",label:"Password",defaultValue:t.APN,size:"small",InputProps:{readOnly:!0}})))))}),qt=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={isLoading:!0,failedLoading:!1,currentStation:{Partner:{}},currentStationInfo:{},currentTab:"one",stationAPNs:[],partnersList:[],statsList:[{label:"active",id:0},{label:"Frozen",id:1}]},n.fragment=r.a.createRef(),void 0===n.state.currentStation?n.state.currentStation={}:(n.state.currentStation=n.props.station,n.loadPrimaryData().then((function(e){}))),n}return Object(o.a)(a,[{key:"loadPartners",value:function(){var e=Object(p.a)(m.a.mark((function e(){var t,a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.MODELS._Partner.getAll(0,999);case 2:if(!1===(t=e.sent).finalResult){e.next=9;break}a=t.result.rows,n=a.map((function(e){return{value:e.id,label:e.fullName}})),this.setState({partnersList:n}),e.next=11;break;case 9:return this.setState({failedLoading:!0}),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadPrimaryData",value:function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadPartners();case 2:this.state.failedLoading?this.fragment.current.setState({failedLoading:!0}):this.fragment.current.setState({isLoading:!1});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"loadStationInfo",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.MODELS.station.getOnById(t);case 2:if(!0!==(a=e.sent).finalResult){e.next=9;break}return n=a.result,this.setState({currentStation:n}),e.abrupt("return",!0);case 9:return this.setState({failedLoading:!0}),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadPowerBanksInfo",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.MODELS._Station.getOneRealTime(t);case 2:0!=(a=e.sent)?this.setState({currentStationInfo:a}):ie("pagesNotifications","Could not Load Station primary  Data","error");case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadAPN",value:function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.MODELS._Station.queryAPNNs(t,a);case 2:0!=(n=e.sent)?((r=this.state.stationAPNs)[a]=n,this.setState({stationAPNs:r})):ie("pagesNotifications","Could not Load APN info","error");case 4:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handleSubmitStationData",value:function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.MODELS._Station.update(this.state.currentStation.systemId,t);case 2:if(!0!==e.sent.finalResult){e.next=7;break}return e.abrupt("return",!0);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleSetAddress",value:function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.MODELS._Station.setAddress(this.state.currentStation.id,t);case 2:if(!0!==e.sent.finalResult){e.next=7;break}return e.abrupt("return",!0);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleSetVolume",value:function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.MODELS._Station.setVolume(this.state.currentStation.id,t.level);case 2:if(!0!==e.sent.finalResult){e.next=7;break}return e.abrupt("return",!0);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"drawAPN",value:function(){this.MODELS.station.queryAPNNs(this.state.currentStation.id,"00").then((function(e){if(0!=e)return r.a.createElement(Gt,{APN:e});ie("pagesNotifications","Could not load APN info","error","standard",null)}))}},{key:"render",value:function(){var e=this;return r.a.createElement(me,{ref:this.fragment,customClass:"StationEditForm",customId:"StationEditForm",title:"Station Details",primaryInfoLoader:function(){e.loadPrimaryData().then((function(e){}))}},r.a.createElement("div",{className:"hardCodedInfoHolder"},r.a.createElement(Tt,{tabsList:[{title:"Primary Info"},{title:"Server configuration"},{title:"APNS"},{title:"Sound Level"}]},r.a.createElement(oe,{handleSubmit:this.handleSubmitStationData.bind(this)},r.a.createElement(J.a,{container:!0,spacing:2,xs:12},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement("b",null,"Station Primary data")),r.a.createElement(J.a,{item:!0,xs:5},r.a.createElement(pe.a,{disabled:!0,fullWidth:!0,required:!0,variant:"outlined",id:"outlined-required",label:"SystemId",defaultValue:this.state.currentStation.systemId})),r.a.createElement(J.a,{item:!0,xs:7},r.a.createElement(pe.a,{fullWidth:!0,required:!0,variant:"outlined",name:"id",id:"outlined-required",label:"Public Id",defaultValue:this.state.currentStation.id})),r.a.createElement(J.a,{item:!0,xs:5},r.a.createElement(K.a,{fullWidth:!0},r.a.createElement(le.a,{id:"demo-simple-select-label"},"Partner"),r.a.createElement(Z.a,{labelId:"demo-simple-select-label",id:"currentPartner",label:"Partner",name:"currentPartner",defaultValue:this.state.currentStation.currentPartner},this.state.partnersList.map((function(e){return r.a.createElement($.a,{value:e.value}," ",e.label)})),r.a.createElement($.a,{value:10},"Ten")))),r.a.createElement(J.a,{item:!0,xs:3},r.a.createElement(K.a,{fullWidth:!0},r.a.createElement(le.a,{id:"demo-simple-select-label"},"Stat"),r.a.createElement(Z.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",name:"stat",label:"Stat",defaultValue:this.state.currentStation.stat},this.state.statsList.map((function(e){return r.a.createElement($.a,{value:e.id}," ",e.label)}))))),r.a.createElement(J.a,{item:!0,xs:4},r.a.createElement(pe.a,{fullWidth:!0,required:!0,variant:"outlined",type:"number",id:"outlined-required",name:"price",label:"Price",defaultValue:this.state.currentStation.price})))),r.a.createElement(zt,{handleSubmit:this.handleSetAddress.bind(this)},r.a.createElement(J.a,{item:!0,xs:6},r.a.createElement(pe.a,{fullWidth:!0,size:"small",name:"address",required:!0,id:"outlined-required",label:"Server address",placeholder:"xxx.xxx.xxx.xxx"})),r.a.createElement(J.a,{item:!0,xs:3},r.a.createElement(pe.a,{fullWidth:!0,required:!0,type:"number",name:"port",size:"small",id:"outlined-required",label:"Port Number",defaultValue:"4000"})),r.a.createElement(J.a,{item:!0,xs:3},r.a.createElement(pe.a,{fullWidth:!0,required:!0,type:"number",name:"heartBit",size:"small",id:"outlined-required",label:"Heart Bit",defaultValue:"30"}))),r.a.createElement(Tt,{tabsList:[{title:"First"},{title:"Second"},{title:"Third"},{title:"Forth"},{title:"Fifth"}]},r.a.createElement("div",{id:"firstHolder"},r.a.createElement(Gt,{APN:this.state.stationAPNs[0]})),r.a.createElement("div",{id:"secondHolder"},r.a.createElement(Gt,{APN:this.state.stationAPNs[1]})),r.a.createElement("div",{id:"thirdHolder"},r.a.createElement(Gt,{APN:this.state.stationAPNs[2]})),r.a.createElement("div",{id:"forthHolder"},r.a.createElement(Gt,{APN:this.state.stationAPNs[3]})),r.a.createElement("div",{id:"fifthHolder"},r.a.createElement(Gt,{APN:this.state.stationAPNs[4]}))),r.a.createElement(zt,{view:this.fragment.current,errorMsg:"Could not set volume correctly",handleSubmit:this.handleSetVolume.bind(this)},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(Vt.a,null),r.a.createElement(Ut.a,{name:"level",min:0,max:15,"aria-label":"Volume",onChange:""}),r.a.createElement(Ht.a,null)))))))}}],[{key:"getDerivedStateFromProps",value:function(){}}]),a}(W),Yt=a(67),Xt=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;Object(c.a)(this,a),(n=t.call(this,e)).setValid=Object(p.a)(m.a.mark((function e(){var t,a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=[],a=n.state.rawData,r=0;r<a.length;r++)1==parseInt(a[r].valid)&&t.push(a[r]);n.setState({data:t});case 4:case"end":return e.stop()}}),e)}))),n.state={failedLoading:!1,columns:[{title:"SystemId",field:"systemId"},{title:"ID",field:"id"},{title:"Stat",field:"stat",lookup:{0:r.a.createElement(nt.a,{label:"Active",color:"primary",style:{width:120}}),1:r.a.createElement(nt.a,{variant:"outlined",label:"Offline",style:{width:120,color:"red"}})}},{title:"Rent Fees",field:"price",render:function(e){return e.price+" Units"}},{title:"Added On",render:function(e){return e.createdAt.substr(0,10)}}],stationsList:[],page:0,totalCount:0};new URLSearchParams(window.location.search);return n.tableRef=r.a.createRef(),n}return Object(o.a)(a,[{key:"loadPrimaryData",value:function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.state.failedLoading?this.currentPage.current.setState({failedLoading:!0}):this.currentPage.current.setState({failedLoading:!1,isLoading:!1});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(p.a)(m.a.mark((function e(){var t=this;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadPrimaryData();case 2:setTimeout((function(){console.log(t.tableRef.current)}),3e3);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ge,Object(mt.a)({ref:this.currentPage,title:"Stations",customClass:"StationsPage",customdId:"StationsPage",contentCustomId:"StationsPageContent",reloadPrimaryInfo:function(){e.loadPrimaryData()},topOperations:[{text:"New Station",icon:r.a.createElement(Yt.Add,null),onClick:function(){e.currentPage.current.mountBackDrop(r.a.createElement(fe,null))}}]},"reloadPrimaryInfo",(function(){return e.loadPrimaryData()})),r.a.createElement(at,{ref:this.tableRef,columns:this.state.columns,actions:[{icon:function(){return r.a.createElement(Yt.Block,{style:{color:"darkred"}})},tooltip:"Delete"},{icon:function(){return r.a.createElement(Yt.Delete,{style:{color:"darkred"}})},tooltip:"Delete"},{icon:function(){return r.a.createElement(Yt.Edit,{style:{color:""}})},tooltip:"Edit",onClick:function(t,a){return e.currentPage.current.mountBackDrop(r.a.createElement(qt,{station:a}))}}],dataModel:this.MODELS._Station,detailPanel:function(e){return r.a.createElement("div",{className:"stationDetailsHolder"},r.a.createElement(_t,{id:e.rowData.id}))}})))}}]),a}(W),Qt=(a(720),a(461)),Jt=(a(721),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),n=t.call(this,e),console.clear(),console.log(n.props.partner),n.state={isSubmitted:!1,isSubmitting:!1,done:!1,partnersList:[],markers:[]},n.fragment=r.a.createRef(),n.stationTypes=[{label:"active",value:0},{label:"inactive",value:1}],n.formRef=r.a.createRef(),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(p.a)(m.a.mark((function e(){var t,a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.MODELS._Partner.getAll(0,999);case 2:!1!==(t=e.sent).finalResult&&(a=t.result.rows,n=a.map((function(e){return{value:e.id,label:e.fullName}})),this.setState({partnersList:n}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.MODELS._Partner.update(this.props.partner.id,t);case 2:if(!(a=e.sent).finalResult){e.next=8;break}return this.formRef.current.setState({doneMsg:a.result}),e.abrupt("return",!0);case 8:return this.formRef.current.setState({errMsg:a.error}),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(me,{ref:this.fragment,customClass:"PartnerEditForm",customId:"PartnerEditForm",isLoading:!1,primaryInfoLoader:function(){return e.loadPrimaryData().then()}},r.a.createElement(oe,{ref:this.formRef,handleSubmit:this.handleSubmit.bind(this),onSuccess:function(){window.location.reload()}},r.a.createElement(J.a,{container:!0,spacing:2,xs:12},r.a.createElement(J.a,{item:!0,xs:6},r.a.createElement(pe.a,{fullWidth:!0,required:!0,variant:"outlined",id:"outlined-required",name:"fullName",label:"Name",defaultValue:this.props.partner.fullName})),r.a.createElement(J.a,{item:!0,xs:3},r.a.createElement(K.a,{fullWidth:!0},r.a.createElement(le.a,null,"Rent Policy"),r.a.createElement(Z.a,{variant:"outlined",id:"demo-simple-select",name:"type",label:"Rent Policy",defaultValue:this.props.partner.type},lt.a.map((function(e){return r.a.createElement($.a,{value:e.id}," ",e.label)}))))),r.a.createElement(J.a,{item:!0,xs:3},r.a.createElement(K.a,{fullWidth:!0},r.a.createElement(le.a,null,"Stat"),r.a.createElement(Z.a,{id:"demo-simple-select",name:"stat",label:"State",defaultValue:this.props.partner.stat},dt.a.map((function(e){return r.a.createElement($.a,{value:e.id}," ",e.label)}))))),r.a.createElement(J.a,{item:!0,xs:5},r.a.createElement(pe.a,{fullWidth:!0,required:!0,variant:"outlined",name:"phone",id:"outlined-required",label:"Phone",placeholder:"0X XX XX XX XX",defaultValue:this.props.partner.phone})),r.a.createElement(J.a,{item:!0,xs:3},r.a.createElement(pe.a,{fullWidth:!0,required:!0,variant:"outlined",name:"mail",id:"outlined-required",defaultValue:this.props.partner.mail,label:"Address mail",placeholder:"xxx@xxx.xxx"})),r.a.createElement(J.a,{item:!0,xs:4},r.a.createElement(pe.a,{fullWidth:!0,variant:"outlined",name:"password",id:"outlined-required",label:"Password",placeholder:"unchanged"})),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(ct.c,{googleMapsApiKey:k.MAP_API_KEY},r.a.createElement(bt,{center:{lat:this.props.partner.x,lng:this.props.partner.y}}))))))}}]),a}(W)),Kt=(a(722),a(184)),Zt=a.n(Kt),$t=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={partners:[]},n.currentForm=r.a.createRef(),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"doGenerate",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.partnerId=this.props.partner.id,e.next=3,this.MODELS._RechargeCode.create(t);case 3:if(!0!==(a=e.sent).finalResult){e.next=8;break}return e.abrupt("return",!0);case 8:return this.currentForm.current.setState({errMsg:JSON.stringify(a.error)}),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"CodeGeneratorForm"},r.a.createElement(oe,{ref:this.currentForm,errorMsg:"Lot created successfully",handleSubmit:this.doGenerate.bind(this)},r.a.createElement(pe.a,{disabled:!0,fullWidth:!0,variant:"outlined",name:"partnerId",labelId:"Partner-select-label",label:"Partner",defaultValue:this.props.partner.fullName}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(pe.a,{required:!0,fullWidth:!0,variant:"outlined",name:"amount",label:"Amount",type:"number"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(pe.a,{required:!0,fullWidth:!0,variant:"outlined",name:"number",label:"Number",type:"number"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(K.a,{fullWidth:!0},r.a.createElement(le.a,{id:"algorithm-select-label"},"Algorithm"),r.a.createElement(Z.a,{fullWidth:!0,name:"algorithm",label:"Algorithm",defaultValue:0},r.a.createElement($.a,{value:0},"bcrypt + JWT"))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(K.a,{fullWidth:!0},r.a.createElement(le.a,{id:"demo-simple-select-label"},"Stat"),r.a.createElement(Z.a,{required:!0,fullWidth:!0,name:"stat",labelId:"demo-simple-select-label",label:"Stat",defaultValue:1},Zt.a.map((function(e){return r.a.createElement($.a,{value:e.value},e.label)}))))))}}]),a}(W),ea=(a(723),a(138)),ta=a.n(ea),aa=(a(67),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;Object(c.a)(this,a);Zt.a.reduce((function(e,t){return e+" ".concat(t.value,' : "').concat(t.label,'", ')}),"");return(n=t.call(this,e)).dataModel={getAll:function(){var e=Object(p.a)(m.a.mark((function e(t,a){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.MODELS._RechargeCode.getAllForPartner(t,a,n.props.id);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},n.state={rawData:[],columns:[{title:"Id",field:"id"},{title:"Stat",field:"stat",lookup:{0:"New",1:"Printed",2:"Consumed"}},{title:"Amount",field:"amount"},{title:"Date",render:function(e){return e.createdAt.substr(0,10)}}],data:[],selectedRowId:null,open:!1},n.submitButton=r.a.createRef(),n}return Object(o.a)(a,[{key:"doGenerate",value:function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.MODELS._RechargeCode.create(t);case 2:if(!0!==e.sent.finalResult){e.next=7;break}return e.abrupt("return",!0);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.currentPage.current.setState({isLoading:!1}),e.next=3,this.dataModel.getAll(0,50);case 3:e.sent;case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"changeStat",value:function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.MODELS._Partner.update(t.id,{stat:a});case 3:e.sent&&(ie("pagesNotifications","Stat Changed successfully","success"),n=this.state.data.indexOf(t),(r=this.state.data)[n].stat=a,this.setState({data:r})),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(me,{ref:this.currentPage,customClass:"ReCodesPage",customId:"ReCodesPage",title:"Recharge Codes",customContentClass:"ReCodesContent"},r.a.createElement("div",{className:"codesContainer"},r.a.createElement(at,{columns:this.state.columns,dataModel:this.dataModel,options:{search:!1,toolbar:!1,filtering:!0,paginationPosition:"bottom",selection:!0},actions:[{icon:function(){return"delete"},tooltip:"Delete",isFreeAction:!0}]})))}}]),a}(W)),na=(a(724),a(455)),ra=a(468),ia=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).container={width:200,height:200,margin:"10px",borderRadius:20,position:"relative"},n.imageStyle={width:"100%",height:"100%",borderRadius:20},n.deleteImage={},n.state={},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;document.getElementById(this.props.id).onmouseenter=function(){document.getElementById("delete"+e.props.id).style.display="flex"},document.getElementById(this.props.id).onmouseleave=function(){document.getElementById("delete"+e.props.id).style.display="none"}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:this.container,id:this.props.id},r.a.createElement("img",{className:"image",src:this.props.url}),r.a.createElement("div",{className:"deleteImage",style:this.deleteImage,id:"delete"+this.props.id,onClick:function(){return e.props.onDelete(e.props.systemId)}},r.a.createElement(na.a,{style:{color:"red"}})))}}]),a}(r.a.Component),sa=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).container={width:200,height:200,margin:"10px",borderRadius:20,position:"relative"},n.imageStyle={width:"100%",height:"100%",borderRadius:20},n.deleteImage={},n.state={uploading:!1},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;document.getElementById("containerNew"+this.props.id).onmouseenter=function(){document.getElementById("delete"+e.props.id).style.display="flex",document.getElementById("new"+e.props.id).style.display="flex"},document.getElementById("containerNew"+this.props.id).onmouseleave=function(){document.getElementById("delete"+e.props.id).style.display="none",document.getElementById("new"+e.props.id).style.display="none"}}},{key:"isUploading",value:function(e){if(e)return r.a.createElement(ra.a,null)}},{key:"render",value:function(){return r.a.createElement("div",{style:this.container,id:"containerNew"+this.props.id},r.a.createElement("img",{className:"image",src:this.props.url}),r.a.createElement("div",{className:"deleteImage",id:"delete"+this.props.id,onClick:this.props.onClick.bind(this)},r.a.createElement(na.a,{style:{color:"red"}})),r.a.createElement("div",{className:"newLabel",style:this.deleteImage,id:"new"+this.props.id},"New"))}}]),a}(r.a.Component),ca=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n,i;return Object(c.a)(this,a),(i=t.call(this,e)).sharedData={},i.state={working:!1,currentImage:"",done:!1,partnersList:[],markers:[],propsImages:null!==(n=i.props.ImagesList)&&void 0!==n?n:[],toUpload:[],toBeUploaded:[],ImagesList:[]},i.state.propsImages.forEach((function(e,t){i.state.ImagesList.push({id:e.id,link:e.link,toUpload:!1})})),i.stationTypes=[{label:"active",value:0},{label:"inactive",value:1}],i.formRef=r.a.createRef(),i}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({ImagesList:this.state.ImagesList});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isCompleted",value:function(){return void 0!==this.sharedData&&this.sharedData!=={}||(alert("no images selected"),!1)}},{key:"onImageSelect",value:function(e){for(var t=0;t<e.target.files.length;t++){var a=e.target.files[t];console.log(a);var n=URL.createObjectURL(a);this.state.ImagesList.push({link:n,toUpload:!0,file:a})}this.setState({ImagesList:this.state.ImagesList}),this.sharedData=this.state.toUpload}},{key:"handleSubmit",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.generatePassword(),t.password=a,e.next=4,this.MODELS._Partner.create(t);case 4:if(!(n=e.sent).finalResult){e.next=9;break}return e.abrupt("return",!0);case 9:return this.formRef.current.setState({errMsg:n.error}),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteToBeUploaded",value:function(e){var t=[];this.state.ImagesList.forEach((function(a){e.link!==a.link&&t.push(a)})),this.setState({ImagesList:t})}},{key:"deleteAlreadyUploaded",value:function(e){this.props.onDelete([{id:e}])}},{key:"renderContent",value:function(e){var t=this;return e.map((function(e,a){return e.toUpload?r.a.createElement(sa,{url:e.link,id:a,ref:e,onClick:function(){return t.deleteToBeUploaded({link:e.link,toUpload:!0,file:e.file})}}):r.a.createElement(ia,{url:e.link,id:a,systemId:e.id,onDelete:t.deleteAlreadyUploaded.bind(t)})}))}},{key:"onSave",value:function(){var e=Object(p.a)(m.a.mark((function e(){var t,a,n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({working:!0}),t=[],a=Object(b.a)(this.state.ImagesList);try{for(a.s();!(n=a.n()).done;)(r=n.value).toUpload&&t.push(r)}catch(i){a.e(i)}finally{a.f()}return e.next=6,this.props.onSave(t);case 6:e.sent?(ie("notificationsContainer1","Images uploaded ad attached to partner","success"),this.setState({working:!1})):(ie("notificationsContainer1","Failed to finish the operation ","error"),this.setState({working:!1}));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"renderGlobalOperations",value:function(e){var t,a=!1,n=Object(b.a)(e);try{for(n.s();!(t=n.n()).done;){if(t.value.toUpload){a=!0;break}}}catch(i){n.e(i)}finally{n.f()}if(a)return r.a.createElement("div",null,r.a.createElement(V.a,{variant:"contained",color:"primary",onClick:this.onSave.bind(this)},"Upload"))}},{key:"render",value:function(){var e=this;return this.state.working?r.a.createElement("div",{className:"YitImageSlider"},r.a.createElement(ra.a,null)):r.a.createElement("div",{className:"YitImageSlider"},r.a.createElement("div",{className:"Content"},r.a.createElement("div",{className:"addImages",onClick:function(){document.getElementById("fileInput").click()}},r.a.createElement(G.a,{"aria-label":"delete",size:"large"},r.a.createElement(jt.a,{fontSize:"inherit"}),r.a.createElement("input",{id:"fileInput",onChange:function(t){return e.onImageSelect(t)},type:"file",hidden:!0,multiple:!0}))),this.renderContent(this.state.ImagesList)),this.renderGlobalOperations(this.state.ImagesList))}}]),a}(r.a.Component),oa=a(521),la=a.n(oa),ua=a(523),da=a.n(ua),ma=a(522),pa=a.n(ma),fa=void 0,ha=a(67),va=function(e){var t=e.data,a=e.icons,n=[{title:"SystemId",field:"systemId"},{title:"ID",field:"id"},{title:"Stat",field:"stat",lookup:{0:r.a.createElement(nt.a,{label:"Active",color:"primary",style:{width:120}}),1:r.a.createElement(nt.a,{variant:"outlined",label:"Offline",style:{width:120,color:"red"}})}}];return r.a.createElement(st.a,{style:{height:"100%"},components:{Container:function(e){return r.a.createElement("div",{style:{position:"relative",width:"100%",height:"100%",overflow:"auto"}},e.children)}},icons:a,title:"",columns:n,data:t,localization:{body:{editRow:{deleteText:"are you sur you wanna delete this item "}}},actions:[{icon:function(){return r.a.createElement(ha.Block,{style:{color:"darkred"}})},tooltip:"Delete"},{icon:function(){return r.a.createElement(ha.Delete,{style:{color:"darkred"}})},tooltip:"Delete"},function(e){return{icon:function(){return r.a.createElement(ha.Launch,{style:{color:"black"},onClick:function(){fa.currentPage.current.mountBackDrop(r.a.createElement(_t,{id:e.id}))}})},tooltip:"Details"}}],options:{actionsColumnIndex:-1,exportButton:!0,toolbar:!1}})},ba=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={isLoading:!0,failedLoading:!0,currentPartner:{Stations:{},Images:[]},partnerImages:[]},n}return Object(o.a)(a,[{key:"loadPrimaryData",value:function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadCurrentPartner(this.props.id);case 2:this.state.failedLoading?this.currentPage.current.setState({failedLoading:!0}):this.currentPage.current.setState({failedLoading:!1,isLoading:!1});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadCurrentPartner",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.MODELS._Partner.getOnById(t);case 2:!0===(a=e.sent).finalResult?(n=a.result,r=[],n.Images.forEach((function(e){r.push(e.link)})),this.setState({failedLoading:!1,currentPartner:n,partnerImages:r})):this.setState({failedLoading:!0});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadPrimaryData();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"uploadImage",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("file",t.file),e.next=4,this.MODELS._Tools.uploadFiles("partnerImages",a);case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onDelete",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n,r,i,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.clear(),console.log("starting"),a=!0,[],n=Object(b.a)(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=15;break}return i=r.value,e.next=10,this.MODELS._Partner.deleteImage(i.id);case 10:s=e.sent,console.log(s),s.finalResult||(a=!1);case 13:e.next=6;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),n.e(e.t0);case 20:return e.prev=20,n.f(),e.finish(20);case 23:if(!a){e.next=27;break}return e.abrupt("return",!0);case 27:return e.abrupt("return",!1);case 28:case"end":return e.stop()}}),e,this,[[4,17,20,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onSave",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n,r,i,s,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.clear(),console.log("starting"),a=!0,n=[],r=Object(b.a)(t),e.prev=4,r.s();case 6:if((i=r.n()).done){e.next=15;break}if(!(s=i.value).toUpload){e.next=13;break}return e.next=11,this.uploadImage(s);case 11:(c=e.sent).finalResult?n.push(c.result):a=!1;case 13:e.next=6;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),r.e(e.t0);case 20:return e.prev=20,r.f(),e.finish(20);case 23:if(!a){e.next=36;break}return e.prev=24,e.next=27,this.MODELS._Partner.addImages(this.state.currentPartner.id,n);case 27:return e.sent,e.abrupt("return",!0);case 31:return e.prev=31,e.t1=e.catch(24),e.abrupt("return",!1);case 34:e.next=37;break;case 36:return e.abrupt("return",!1);case 37:case"end":return e.stop()}}),e,this,[[4,17,20,23],[24,31]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(ge,{ref:this.currentPage,customClass:"PartnerDetails",customId:"PartnerDetailsPage",title:"Partner Details",topOperations:[{text:"Generator",icon:r.a.createElement(Qt.a,{fontSize:"medium"}),onClick:function(){e.currentPage.current.mountBackDrop(r.a.createElement($t,{partner:e.state.currentPartner}))}},{text:"Edit",icon:r.a.createElement(Ge.a,{fontSize:"medium"}),onClick:function(){e.currentPage.current.mountBackDrop(r.a.createElement(Jt,{partner:e.state.currentPartner}))}}],reloadPrimaryInfo:function(){e.loadPrimaryData().then()}},r.a.createElement(Tt,{tabsList:[{title:"Global Information"},{title:"Stations"},{title:"Transactions"},{title:"Recharge Codes"}]},r.a.createElement("div",{id:"GlobalInfoHolder"},r.a.createElement("div",{className:"globalInformationHolder"},r.a.createElement("span",{style:{display:"flex",alignItems:"center"}},r.a.createElement(la.a,null),this.state.currentPartner.fullName),r.a.createElement("span",{style:{display:"flex",alignItems:"center"}},r.a.createElement(pa.a,null),this.state.currentPartner.Stations.length," affected stations"),r.a.createElement("span",{style:{display:"flex",alignItems:"center"}},r.a.createElement(da.a,null),this.state.currentPartner.phone),r.a.createElement("span",{style:{display:"flex",alignItems:"center"}}," ",r.a.createElement("b",null,"Current Stat:"),this.state.currentPartner.stat)),r.a.createElement("div",{className:"partnerImagesSlide"},r.a.createElement(ca,{ImagesList:this.state.currentPartner.Images,onSave:this.onSave.bind(this),onDelete:this.onDelete.bind(this)})),r.a.createElement("div",{className:"mapHolder"},r.a.createElement(ct.c,{googleMapsApiKey:k.MAP_API_KEY},r.a.createElement(ct.a,{mapContainerStyle:{width:"100%",height:"100%"},center:{lat:this.state.currentPartner.x,lng:this.state.currentPartner.y},zoom:15},r.a.createElement(r.a.Fragment,null))))),r.a.createElement(r.a.Fragment,null,r.a.createElement(va,{data:this.state.currentPartner.Stations,icons:tt})),r.a.createElement(r.a.Fragment,null),r.a.createElement(r.a.Fragment,null,r.a.createElement(aa,{id:this.state.currentPartner.id}))))}}]),a}(W),ga=(a(725),a(67));r.a.Component;var Ea=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={rawData:[],columns:[{title:"Id",field:"id"},{title:"Operation",field:"operation",lookup:{0:"Rent",1:"Return"}}],data:[],selectedRowId:null,open:!1},n.submitButton=r.a.createRef(),n}return Object(o.a)(a,[{key:"doGenerate",value:function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.MODELS._RechargeCode.create(t);case 2:if(!0!==e.sent.finalResult){e.next=7;break}return e.abrupt("return",!0);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setTransactionsList(ta.a.Station.rent.id).then(),this.currentPage.current.setState({isLoading:!1});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dataLoader",value:function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.MODELS._Transaction.getAll(t.pageSize*t.page,t.pageSize);case 2:n=e.sent,console.log(n),!1!==n?a({data:n,page:t.page,totalCount:100}):(ie("pagesNotifications","Could not load Stations data","error"),a({data:[],page:t.page,totalCount:100}));case 5:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"loadRentTransactions",value:function(){var e=Object(p.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.MODELS._Transaction.getAll(0,0,1e5);case 2:if(!(t=e.sent).finalResult){e.next=11;break}return a=t.result,e.next=7,a.forEach((function(e,t,a){var n={id:e.id,operation:e.operation,date:e.createdAt.substr(0,10)};e.MetaData.forEach((function(e){n[e.dataTitle]=e.dataValue})),a[t]=n}));case 7:return this.setState({columns:[{title:"Id",field:"id"},{title:"Operation",field:"operation",lookup:{0:"Rent",1:"Return"}},{title:"StationId",field:"stationId",render:function(e){return r.a.createElement(f.b,{target:"_blank",to:"/DashBoard/StationsDetails/"+e.stationId},e.stationId)}},{title:"Client Id",field:"clientId"},{title:"Power Bank Id",field:"powerBankId"},{title:"amount",field:"amount"},{title:"Date",field:"date"}]}),e.abrupt("return",a);case 11:return e.abrupt("return",[]);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadReturnTransactions",value:function(){var e=Object(p.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.MODELS._Transaction.getAll(ta.a.Station.return.id,0,1e5);case 2:if(!(t=e.sent).finalResult){e.next=11;break}return a=t.result,e.next=7,a.forEach((function(e,t,a){var n={id:e.id,operation:e.operation,date:e.createdAt.substr(0,10)};e.MetaData.forEach((function(e){n[e.dataTitle]=e.dataValue})),a[t]=n}));case 7:return this.setState({columns:[{title:"Id",field:"id"},{title:"Operation",field:"operation",lookup:{0:"Rent",1:"Return"}},{title:"StationId",field:"stationId",render:function(e){return r.a.createElement(f.b,{target:"_blank",to:"/DashBoard/StationsDetails/"+e.stationId},e.stationId)}},{title:"Client Id",field:"clientId"},{title:"Power Bank Id",field:"powerBankId"},{title:"Date",field:"date"}]}),e.abrupt("return",a);case 11:return e.abrupt("return",[]);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadCartTransactions",value:function(){var e=Object(p.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.MODELS._Transaction.getAll(11,0,1e4);case 2:return t=e.sent,a=t.result,e.next=6,a.forEach((function(e,t,a){var n={id:e.id,operation:e.operation,date:e.createdAt.substr(0,10)};e.MetaData.forEach((function(e){n[e.dataTitle]=e.dataValue})),a[t]=n}));case 6:return this.setState({columns:[{title:"Id",field:"id"},{title:"Operation",field:"operation",lookup:{0:"Rent",1:"Return",11:"recharge"}},{title:"Client Id",field:"clientId"},{title:"Recharge code ID",field:"rechargeCodeId"},{title:"Date",field:"date"}]}),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setTransactionsList",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next=e.t0===ta.a.Station.rent.id?3:e.t0===ta.a.Station.return.id?7:e.t0===ta.a.wallet.recharge.id?11:14;break;case 3:return e.next=5,this.loadRentTransactions();case 5:return a=e.sent,e.abrupt("break",14);case 7:return e.next=9,this.loadReturnTransactions();case 9:return a=e.sent,e.abrupt("break",14);case 11:return e.next=13,this.loadCartTransactions();case 13:a=e.sent;case 14:"object"===typeof a?this.setState({data:a}):this.setState({data:[]});case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tabClickHandler",value:function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setTransactionsList(t.target.id).then();case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(ge,{ref:this.currentPage,customClass:"TransactionsPage",customId:"TransactionsPage",title:"Transactions",customContentClass:"TransactionsPageContent"},r.a.createElement(_e.a,{icons:tt,title:"",components:{Toolbar:function(t){return r.a.createElement("div",{className:"TableHeader"},r.a.createElement("div",{className:"tableHeaderTabsContainer"},r.a.createElement("span",{className:"tableTab",onClick:function(t){e.tabClickHandler(t)},id:ta.a.Station.rent.id},"Rent Transactions"),r.a.createElement("span",{className:"tableTab",onClick:function(t){e.tabClickHandler(t)},id:ta.a.Station.return.id},"Return Transactions"),r.a.createElement("span",{className:"tableTab",onClick:e.tabClickHandler.bind(e),id:ta.a.wallet.recharge.id},"Card Transactions")),r.a.createElement(Fe.MTableToolbar,t))},Container:function(e){return r.a.createElement("div",{style:{overflow:"auto",background:"#FFFFFF",width:"100%",height:"100%"}},e.children)}},columns:this.state.columns,data:this.state.data,options:{pageSize:5,actionsColumnIndex:-1,showTitle:!1,grouping:!0,exportButton:!0},actions:[{icon:function(){return r.a.createElement(ga.PersonAdd,null)},tooltip:"Add User",isFreeAction:!0,onClick:function(e,t,a){console.log(a);var n="data:text/csv;charset=utf-8,";[["name1","city1","some other info"],["name2","city2","more info"]].forEach((function(e){var t=e.join(",");n+=t+"\r\n"}));var r=encodeURI(n);window.open(r)},render:"Hello"},function(t){switch(t.stat){case 0:return{icon:function(){return r.a.createElement(ga.Check,{style:{color:"blue"}})},onClick:function(t,a){return e.changeStat(a,1)},tooltip:"validate"};case 1:return{icon:function(){return r.a.createElement(ga.Block,{style:{color:"red"}})},tooltip:"Freeze User",onClick:function(t,a){return e.changeStat(a,2)}};case 2:return{icon:function(){return r.a.createElement(ga.Beenhere,{style:{color:"green"}})},tooltip:"Reactivate User",onClick:function(t,a){return e.changeStat(a,1)}}}},function(t){return{icon:function(){return r.a.createElement(f.b,{to:{pathname:"/Dashboard/PartnerDetails/"+t.id,search:"",state:{data:e.state.rawData[t.rowIndex]}}},r.a.createElement(ga.Launch,{style:{color:"black"}}))},tooltip:"Details"}}]}))}}]),a}(W),ya=(a(729),a(525)),ka=a.n(ya),wa=(a(738),a(363)),Oa=(a(739),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={isSubmitted:!1,isSubmitting:!1,done:!1,partnersList:[],markers:[]},n.stationTypes=[{label:"active",value:0},{label:"inactive",value:1}],n.formRef=r.a.createRef(),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(p.a)(m.a.mark((function e(){var t,a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.MODELS._Partner.getAll(0,999);case 2:!1!==(t=e.sent).finalResult&&(a=t.result.rows,n=a.map((function(e){return{value:e.id,label:e.fullName}})),this.setState({partnersList:n}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"generatePassword",value:function(){for(var e="0123456789abcdefghijklmnopqrstuvwxyz!@#$%^&*()ABCDEFGHIJKLMNOPQRSTUVWXYZ",t="",a=0;a<=8;a++){var n=Math.floor(Math.random()*e.length);t+=e.substring(n,n+1)}return t}},{key:"handleSubmit",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.generatePassword(),t.password=a,e.next=4,this.MODELS._Partner.create(t);case 4:if(!(n=e.sent).finalResult){e.next=9;break}return e.abrupt("return",!0);case 9:return this.formRef.current.setState({errMsg:n.error}),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"NewPartnerForm"},r.a.createElement(oe,{ref:this.formRef,handleSubmit:this.handleSubmit.bind(this)},r.a.createElement(J.a,{container:!0,spacing:2,xs:12},r.a.createElement(J.a,{item:!0,xs:6},r.a.createElement(K.a,{fullWidth:!0},r.a.createElement(le.a,null,"Rent Policy"),r.a.createElement(Z.a,{id:"demo-simple-select",name:"type",label:"Audience",defaultValue:-1},r.a.createElement($.a,{value:-1},"Select Audience"),lt.a.map((function(e){return r.a.createElement($.a,{value:e.id}," ",e.label)}))))),r.a.createElement(J.a,{item:!0,xs:6},r.a.createElement(K.a,{fullWidth:!0},r.a.createElement(le.a,null,"State"),r.a.createElement(Z.a,{id:"demo-simple-select",name:"type",label:"Stat",defaultValue:-1},r.a.createElement($.a,{value:-1},"Select initial state"),lt.a.map((function(e){return r.a.createElement($.a,{value:e.id}," ",e.label)}))))),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(Pt,null)))))}}]),a}(W)),Sa=a(67),xa=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={AdImageContainer:"AdImageContainer"+a.id,preImageContainer:"preImageContainer"+a.id,preImage:"preImage"+a.id},a.id++,n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=document.getElementById(this.state.AdImageContainer),a=document.getElementById(this.state.preImageContainer);t.addEventListener("mouseenter",(function(){a.style.display="block",s.a.render(r.a.createElement("img",{className:"preImage",id:e.state.preImage,src:e.props.image}),a)})),t.addEventListener("mouseleave",(function(){s.a.unmountComponentAtNode(a),a.style.display="none"}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"AdImageContainer",id:this.state.AdImageContainer},r.a.createElement("span",{className:"prSpan"},"Preview"),r.a.createElement("div",{className:"preImageContainer",id:this.state.preImageContainer}))}}]),a}(r.a.Component);xa.id=0;var ja=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={rawData:[],columns:[{title:"ID",field:"id",editable:"never"},{title:"Image",field:"image",render:function(e){return r.a.createElement(xa,{image:e.image})},editComponent:function(e){return void 0!==e.value?r.a.createElement("div",null,r.a.createElement(pe.a,{disabled:!0,fullWidth:!0,defaultValue:e.value})):r.a.createElement(wa.a,null,r.a.createElement($.a,{value:0},"Upload File"),r.a.createElement($.a,{value:1},"Enter Link"))}},{title:"Type",field:"type",lookup:{0:"Show to all",1:"Vip Only",2:"Normal Only"}},{title:"Stat",field:"stat",lookup:{0:"New",1:"Active",2:"Frozen"}}],data:[],selectedRowId:null,open:!1},n.dataTable=r.a.createRef(),n}return Object(o.a)(a,[{key:"updateAd",value:function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.MODELS._Ad.update(t.id,t);case 3:e.sent.finalResult?(ie("pagesNotifications","Ad  Updated","success"),this.dataTable.current.tableRef.current.onQueryChange()):ie("pagesNotifications","Could update Client","error"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ie("pagesNotifications","Could not change client info","error");case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"loadAds",value:function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.MODELS._Ad.getAll();case 2:e.sent,this.setState({failedLoading:!1,data:[]});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadPrimaryData",value:function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadAds();case 2:this.state.failedLoading?this.currentPage.current.setState({failedLoading:!0}):this.currentPage.current.setState({failedLoading:!1,isLoading:!1});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadPrimaryData();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"changeStat",value:function(){var e=Object(p.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.MODELS._Partner.update(t.id,{stat:a});case 3:e.sent&&(ie("pagesNotifications","Stat Changed successfully","success"),this.dataTable.current.tableRef.current.onQueryChange()),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"deleteEntry",value:function(){var e=Object(p.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.MODELS._Partner.delete(t.id);case 3:e.sent&&(ie("pagesNotifications","Partner Deleted","success"),this.dataTable.current.tableRef.current.onQueryChange({})),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(ge,{ref:this.currentPage,customClass:"ClientsPage",customId:"ClientsPage",title:"Advertising",reloadPrimaryInfo:Object(p.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadPrimaryData();case 2:case"end":return t.stop()}}),t)}))),topOperations:[{text:"New Advertising ",icon:r.a.createElement(Sa.Add,null),onClick:function(){e.currentPage.current.mountBackDrop(r.a.createElement(Oa,null))}}]},r.a.createElement(at,{ref:this.dataTable,columns:this.state.columns,onRowClick:function(t,a){t.target.ondblclick=function(){e.props.history.push("/Dashboard/PartnerDetails/"+a.id,{state:{data:e.state.rawData[a.rowIndex]}})}},dataModel:this.MODELS._Ad,searchEntry:"fullName",actions:[{icon:function(){return r.a.createElement(Sa.Preview,null)},tooltip:"Preview",onClick:function(t,a){e.currentPage.current.mountBackDrop(r.a.createElement(ka.a,{type:"mobile",withDeviceSwitch:!0,withRotator:!0,url:"https://nestjs.com/"}))}}],editable:{onRowAdd:function(e){return new Promise((function(e,t){}))},onRowUpdate:function(t,a){return e.updateAd(t)},onRowDelete:function(t){return new Promise((function(a,n){e.deleteEntry(t).then((function(e){return a()}))}))}}}))}}]),a}(W),Ca=a(67),Pa=[{path:"/DashBoard/Dashboard",name:"Dashboard",icon:Ca.Dashboard,component:Be},{path:"/DashBoard/Stations",name:"Stations",icon:Ca.Apps,component:Xt},{path:"/DashBoard/Clients",name:"Clients",rtlName:"Sessions",icon:Ca.PeopleAltSharp,component:rt,layout:"/admin"},{path:"/DashBoard/Partners",name:"Partners",icon:Ca.PeopleOutlineRounded,component:Lt},{path:"/DashBoard/PartnerDetails/:id",parametrised:!0,component:ba,layout:"/admin"},{path:"/DashBoard/Transactions",name:"Transactions",icon:Ca.Receipt,component:Ea},{path:"/DashBoard/Ads",name:"Ads Manager",icon:Ca.BurstModeSharp,component:ja}];var Ia=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(c.a)(this,a),t.call(this,e)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{className:"NavBar"},Pa.map((function(e,t){if(void 0===e.parametrised)return r.a.createElement(f.c,{className:"navEntry",to:e.path,key:t},r.a.createElement("div",{className:"navIcon"},r.a.createElement(e.icon,{style:{fontSize:"xx-large"}})),r.a.createElement("span",{className:"navText"},e.name))})))}}]),a}(r.a.Component),Da=(a(740),a(526)),Na=a.n(Da),La=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(c.a)(this,a),t.call(this,e)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{className:"Logo",src:Na.a}))}}]),a}(r.a.Component),Ra=a(843),Aa=a(844),Ta=a(851),Ma=a(852),Ba=a(67),Fa=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={openDialog:!1},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){}},{key:"logOut",value:function(){k.LOCALSTORAGE.removeItem("adminMail"),k.LOCALSTORAGE.removeItem("adminToken"),window.location.assign("/Login")}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"LeftPane"},r.a.createElement(Ra.a,{open:this.state.openDialog,onClose:function(){}},r.a.createElement(Aa.a,null,r.a.createElement(Ta.a,{id:"alert-dialog-description"},"You are about to leave the application")),r.a.createElement(Ma.a,null,r.a.createElement(ee.a,{onClick:this.logOut},"Log Out"),r.a.createElement(ee.a,{onClick:function(){e.setState({openDialog:!1})}},"close"))),r.a.createElement("div",{className:"logoContainer"},r.a.createElement(La,null)),r.a.createElement("div",{className:"navBarContainer"},r.a.createElement(Ia,null)),r.a.createElement("span",{className:"logOutButton",onClick:function(){e.setState({openDialog:!0})}},r.a.createElement(Ba.LogoutOutlined,null),r.a.createElement("p",{className:"navText"},"Log Out"))))}}]),a}(r.a.Component);a(741);var _a=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"RightPane",id:"RightPane"},(e=Pa,r.a.createElement(h.d,null,e.map((function(e,t){return void 0===e.parametrised||!1===e.parametrised?r.a.createElement(h.b,{key:t,exact:!0,path:e.path,component:e.component}):r.a.createElement(h.b,{key:t,exact:!0,path:e.path,render:function(t){return r.a.createElement(e.component,{id:t.match.params.id})}})})),r.a.createElement(h.a,{from:"/",to:"/DashBoard/Dashboard"})))));var e}}]),a}(r.a.Component),Wa=(a(742),window.localStorage,{login:function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},e.next=4,fetch(k.SERVER+"Guest/adminLogin",a);case 4:return n=e.sent,e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r);case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",{finalResult:!1,error:"Could not connect to the server"});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),HeartBit:function(){var e=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.GET(k.SERVER+"HeartBit");case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{finalResult:!1,error:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()}),za=function(){return null!=k.LOCALSTORAGE.getItem("adminMail")},Va=a(850),Ha=a(830);function Ua(e){return n.createElement(Ot.a,Object.assign({variant:"body2",color:"text.secondary",align:"center"},e),"Copyright \xa9 ",n.createElement(f.b,{color:"inherit",href:"https://material-ui.com/"},"CBC ALTEC")," ",(new Date).getFullYear(),".")}function Ga(e,t,a){k.LOCALSTORAGE.setItem("adminMail",e),k.LOCALSTORAGE.setItem("admin",t),k.LOCALSTORAGE.setItem("adminToken",a),s.a.render(n.createElement(X.a,{severity:"success",onClose:function(){}},"Login success, redirecting..."),document.getElementById("resultContainer")),setTimeout((function(){window.location.assign("/DashBoard")}),1500)}function qa(){var e=function(){var e=Object(p.a)(m.a.mark((function e(t){var a,r,i,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=new FormData(t.currentTarget),r=a.get("email"),i=a.get("password"),e.next=6,Wa.login({mail:r,password:i});case 6:void 0!==(c=e.sent)?!0===c.finalResult?Ga(r,c.admin,c.token):s.a.render(n.createElement(X.a,{severity:"error",onClose:function(){}},c.error),document.getElementById("resultContainer")):s.a.render(n.createElement(X.a,{severity:"error",onClose:function(){}},"Unknown error occurred"),document.getElementById("resultContainer"));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return za()&&window.location.assign("/Dashboard/Dashboard"),n.createElement("section",{className:"LoginPage"},n.createElement("div",{className:"leftSide",style:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"}}),n.createElement("div",{className:"rightSide"},n.createElement("div",{className:"resultContainer",id:"resultContainer"}),n.createElement(Et.a,{sx:{my:8,mx:4,display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"grey"}},"Sign in",n.createElement(Et.a,{component:"form",noValidate:!0,onSubmit:e,sx:{mt:1}},n.createElement(pe.a,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),n.createElement(pe.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),n.createElement(Va.a,{control:n.createElement(Ha.a,{value:"remember",color:"primary"}),label:"Remember me"}),n.createElement(ee.a,{color:"primary",type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Sign In"),n.createElement(J.a,{container:!0},n.createElement(J.a,{item:!0,xs:!0},n.createElement(f.b,{href:"#",variant:"body2"},"Forgot password?")),n.createElement(J.a,{item:!0},n.createElement(f.b,{href:"#",variant:"body2"},"Don't have an account? Sign Up"))),n.createElement(Ua,{sx:{mt:5}})))))}a(743);var Ya=a(83),Xa=a(245),Qa={items:[],item:{}},Ja=Object(Ya.c)({AppStates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HeartBit":return Object(Xa.a)(Object(Xa.a)({},e),{},{server:t.payLoad});case"internet":return Object(Xa.a)(Object(Xa.a)({},e),{},{internet:t.payLoad});default:return e}}}),Ka=function(e){return{server:e.AppStates.server,internet:e.AppStates.internet}},Za=a(831),$a=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={server:!0},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"drawStatus",value:function(e,t){return e?0==t?r.a.createElement(Za.a,{variant:"filled",severity:"error",style:{fontSize:"1.1vw",fontWeight:"bold"}},"Server connection lost"):void 0:r.a.createElement(Za.a,{variant:"filled",severity:"error",style:{fontSize:"1.1vw",fontWeight:"bold"}},"Internet connection lost !!")}},{key:"render",value:function(){return r.a.createElement("div",{className:"Main"},r.a.createElement("div",{className:"statusBar",id:"statusBar"},this.drawStatus(this.props.internet,this.props.server)),r.a.createElement("div",{className:"Content"},r.a.createElement(f.a,null,r.a.createElement(h.d,null,r.a.createElement(h.b,{path:"/Login",component:qa}),r.a.createElement(h.b,{path:"/DashBoard"},r.a.createElement(Fa,null),r.a.createElement(_a,null))))))}}]),a}(r.a.Component),en=Object(v.b)(Ka,{})($a),tn=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;Object(c.a)(this,a),n=t.call(this,e);k.LOCALSTORAGE.getItem("adminMail"),k.LOCALSTORAGE.getItem("adminToken");return za()||window.location.assign("/Login"),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentWillMount",value:function(){var e=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.checkServer,setInterval((function(){t()}),1e3);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,null,r.a.createElement(h.d,null,r.a.createElement(h.b,{path:"/"},r.a.createElement(en,null)))))}}]),a}(r.a.Component),an=Object(v.b)(Ka,{checkServer:function(){return function(){var e=Object(p.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wa.HeartBit();case 2:e.sent.finalResult?t({type:"HeartBit",payLoad:!0}):t({type:"HeartBit",payLoad:!1}),a=navigator.onLine,t({type:"internet",payLoad:a});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(tn);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var nn=[a(527).a],rn=Object(Ya.e)(Ja,{},Object(Ya.d)(Ya.a.apply(void 0,nn)));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(v.a,{store:rn},r.a.createElement(f.a,null,r.a.createElement(h.d,null,r.a.createElement(h.b,{path:"/Login"},r.a.createElement(qa,null)),r.a.createElement(h.b,{path:"/DashBoard"},r.a.createElement(an,null)))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[554,1,2]]]);
//# sourceMappingURL=main.71778d4b.chunk.js.map